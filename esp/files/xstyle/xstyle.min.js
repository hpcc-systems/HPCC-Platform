(function(){var e=document,t=e.scripts,r=t[t.length-1],n=r.src.replace(/[^\/]+\/xstyle[^\/]*js/,"");define=function(t,i,l){function s(){if(1>--o){for(var e=f.result=l&&l.apply(this,i),t=f.callbacks,r=0;t.length>r;r++)t[r](e);f.callbacks=0}}l||(l=i,i=t,t="put-selector/put");for(var o=1,c=0;i.length>c;c++){var u=i[c],f=a[u];if(!f){f=a[u]={callbacks:[]};var h=e.createElement("script");h.src=n+u+".js",r.parentNode.insertBefore(h,r)}f.callbacks?(o++,f.callbacks.push(function(e){return function(t){i[e]=t,s()}}(c))):i[c]=f.result}f=a[t]||(a[t]={callbacks:[]}),s()},require=function(e,t){define("",e,t)};var a={require:{result:require}}})(),function(e){var t,r=/[-+,> ]/;e([],t=function(e,n){"use strict";function a(t,r){t.appendChild(e.createTextNode(r))}function i(t){function n(){v&&p&&v!=p&&(p==t&&(u||(u=r.test(y)&&e.createDocumentFragment()))||p).insertBefore(v,h||null)}for(var u,f,h,p,v,d=arguments,g=d[0],m=0;d.length>m;m++){var y=d[m];if("object"==typeof y){if(f=!1,y instanceof Array){v=e.createDocumentFragment();for(var x=0;y.length>x;x++)v.appendChild(i(y[x]));y=v}if(y.nodeType)v=y,n(),p=y,h=0;else for(var x in y)v[x]=y[x]}else if(f)f=!1,a(v,y);else{1>m&&(t=null),f=!0;var S=y.replace(s,function(r,s,u,f,g,x){s&&(n(),"-"==s||"+"==s?(p=(h=v||p).parentNode,v=null,"+"==s&&(h=h.nextSibling)):("<"==s?p=v=(v||p).parentNode:(","==s?p=t:v&&(p=v),v=null),h=0),v&&(p=v));var S=!u&&f;if(S||!v&&(u||g))if("$"==S)a(p,d[++m]);else{S=S||i.defaultTag;var b=c&&d[m+1]&&d[m+1].name;b&&(S="<"+S+' name="'+b+'">'),v=o&&~(l=S.indexOf("|"))?e.createElementNS(o[S.slice(0,l)],S.slice(l+1)):e.createElement(S)}if(u)if("$"==f&&(f=d[++m]),"#"==u)v.id=f;else{var w=v.className,R=w&&(" "+w+" ").replace(" "+f+" "," ");if("."==u)v.className=w?(R+f).substring(1):f;else if("!"==y){var E;c?i("div",v,"<").innerHTML="":(E=v.parentNode)&&E.removeChild(v)}else R=R.substring(1,R.length-1),R!=w&&(v.className=R)}if(g)if("$"==x&&(x=d[++m]),"style"==g)v.style.cssText=x;else{var T="!"==g.charAt(0)?(g=g.substring(1))&&"removeAttribute":"setAttribute";x=""===x?g:x,o&&~(l=g.indexOf("|"))?v[T+"NS"](o[g.slice(0,l)],g.slice(l+1),x):v[T](g,x)}return""});if(S)throw new SyntaxError("Unexpected char "+S+" in "+y);n(),p=g=v||p}}return t&&u&&t.appendChild(u),g}r=n||r;var l,s=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,o=!1,e=e||document,c="object"==typeof e.createElement;return i.addNamespace=function(t,r){e.createElementNS?(o||(o={}))[t]=r:e.namespaces.add(t,r)},i.defaultTag="div",i.forDocument=t,i})}(function(e,t,r){r=r||t,"function"==typeof define?define([],function(){return r()}):"undefined"==typeof window?require("./node-html")(module,r):put=r()}),define("xstyle/core/elemental",["put-selector/put"],function(e){function t(e){return c[e]}function r(e){/e/.test(l.readyState||"")?setTimeout(e,200):l.addEventListener("DOMContentLoaded",e)}function n(e){for(var t=l.querySelectorAll(e.selector),r=e.name,n=0,a=t.length;a>n;n++){var i=t[n],s=i.elementalStyle,o=i.elementalSpecificities;s||(s=i.elementalStyle={},o=i.elementalSpecificities={});var c=i.renderings;c||(c=i.renderings=[],h.push(i)),c.push({name:r,rendered:s[r]==e.propertyValue,renderer:e}),s[r]=e.propertyValue}}function a(){for(var t=0;h.length>t;t++){var r=h[t],n=r.renderings,a=r.elementalStyle;delete r.renderings;for(var i=0;n.length>i;i++){var l=n[i],s=l.renderer,o=s.rendered;if(p=a[l.name]==s.propertyValue,!o&&p)try{s.render(r)}catch(c){console.error(c,c.stack),e(r,"div.error",""+c)}o&&!p&&s.unrender&&(s.unrender(r),n.splice(i--,1))}}h=[]}function i(e,t){for(var r=0,n=f.length;n>r;r++){var a=f[r];t&&t!=a.selector||(u?!u.call(e,a.selector):e.currentStyle[a.name]!=a.propertyValue)||a.render(e)}}var l=document;l.addEventListener("change",function(e){var t=e.target,r=t["-x-variable"];r.put&&r.put(t.value)});var s,o=l.createElement("div"),c={"dom-qsa2.1":!!o.querySelectorAll},u=o.matches||o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector,f=[],h=[];r(function(){if(!s)if(s=!0,t("dom-qsa2.1")){for(var e=0,r=f.length;r>e;e++)n(f[e]);a()}else for(var o=l.all,e=0,r=o.length;r>e;e++)i(o[e])});var p;return{ready:r,addRenderer:function(e,t,r,i){var l={selector:r.selector,propertyValue:t,name:e,render:i};f.push(l),s&&n(l),a()},update:i,clearRenderers:function(){f=[]}}}),define("xstyle/core/ruleModel",["xstyle/core/elemental","put-selector/put"],function(e,t){function r(e,t){return e&&e.then?e.then(t):t(e)}function n(e,t,a){return r(e,function(e){var r=t[0];return e?r&&e.get?n(e.get(r),t.slice(1),a):e.receive?e.receive(r?function(e){n(e,t,a)}:a):r?n(e[r],t.slice(1),a):(a(e),void 0):a(r||e)})}function a(e,t,r){n(e,t.slice(0,t.length-1),function(e){var n=t[t.length-1];e.set?e.set(n,r):e[n]=r})}function i(){}function l(e){this.caller=e,this.args=[]}function s(n,a){return f++,n=n.sort?n:[n],function(i,l){for(var c=i,u=0,f=n.length;f>u;u++){var p=n[u];try{if(p.eachProperty)if(p.args)if("("==p.operator){var d=n[u+1];d&&d.eachProperty&&t(c,d.selector);var g=""+p.args,m=o(p,0,g);(function(e,n){r(m,function(r){r.forElement&&(r=r.forElement(n));var i=e.appendChild(v.createTextNode("Loading"));r.receive(function(n){if(n&&n.sort){i&&(i.parentNode.removeChild(i),i=null);var a=d&&d.eachProperty&&d.get("each");a&&(a=s(a,d)),n.forEach(a?function(t){a(e,t)}:function(r){t(e,h[e.tagName]||"div",r)})}else"value"in e?(e.value=n,e["-x-variable"]=r):i.nodeValue=n},a,g)})})(c,i)}else t(c,""+p);else t(c,p.selector),e.update(c,p.selector);else if("string"==typeof p){"="==p.charAt(0)&&(p=p.slice(1));for(var y=p.split(","),x=0,S=y.length;S>x;x++){var b=y[x].trim(),w=null;if(b){b=b.replace(/\([^)]*\)/,function(e){w=e});var R=t(0==x?c:i,b);l&&(R.item=l);var d=n[u+1];R==c||d&&d.eachProperty||e.update(R),c=R}}}else c.appendChild(v.createTextNode(p.value))}catch(E){console.error(E,E.stack),c.appendChild(v.createTextNode(E))}}return c}}function o(e,t,i){function l(){var e,t,i=h.length+1,l=[],s=[],o=function(r){return function(n){if(l[r]=n,i--,0>=i){t=!0,e=y?y.apply(this,l):l[0];for(var a=0;s.length>a;a++)s[a](e)}}};if(!y){var c=h[0],u={then:function(e){s.push(e)}};return r(c[0],function(e){u=e;for(var t=1;c.length>t;t++){if(!u||!u.get){u={receive:function(t){n(e,c.slice(1),t)},put:function(t){a(e,c.slice(1),t)}};break}u=u.get(c[t])}for(var t=0;s.length>t;t++)s[t](u)}),u}for(var f=0;h.length>f;f++){var c=h[f];n(c[0],c.slice(1),o(f))}return o(-1)(),e&&e.then?e:{receive:function(r){s&&s.push(r),t&&r(e)}}}var s=e["var-expr-"+t];if(h)return s;var u,h=[];h.id=f++;var p,v=[],d=i.join?i.join(""):""+i,g=d.match(/^[\w_$\/\.-]*$/);if(d=d.replace(/("[^\"]*")|([\w_$\.\/-]+)/g,function(t,r,n){if(n){p=n.split("/");var a=p.join("_");v.push(a),h.push(p);var i=p[0],l=c(e,i);if("string"==typeof l||l instanceof Array)l=o(e,i,l);else if(!l)throw Error('Could not find reference "'+i+'"');return l.forElement&&(u=!0),p[0]=l,a}return t}),g){if(t){var m=function(e,t,n){r(findAttributeInAncestors(e,p[0],p[1]),function(e){for(var t=2;p.length-1>t;t++){var r=p[t];e=e.get?e.get(r):e[r]}var r=p[t];e.set?e.set(r,n):e[r]=n})};m.rule=e}}else var y=Function.apply(this,v.concat(["return xstyleReturn("+d+")"]));return h.func=y,e["var-expr-"+t]=h,e["var-expr-"+t]=u?{forElement:function(t){for(var r,n=t;!S.call(t,e.selector);)t=t.parentNode;for(var a=0;h.length>a;a++){var i=h[a],s=i[0];s.forElement&&(s=i[0]=s.forElement(n));var o=s.element;if(n!=r){for(;n!=o;){if(n==r)return;n=n.parentNode}r=n}}var c=r["expr-result-"+h.id];return c||(r["expr-result-"+h.id]=c=l(),c.element=r),c}}:l()}function c(e,t,r){var n=e;do{var a=n.properties&&n.properties[t]||r&&n.rules&&n.rules[t];n=n.parent}while(!a&&n);return a}var u,f=0,h={TABLE:"tr",TBODY:"tr",TR:"td",UL:"li",OL:"li",SELECT:"option"},p={"{":"}","[":"]","(":")"},v=document,d=v.createElement("div"),g=navigator.userAgent,m=g.indexOf("WebKit")>-1?"-webkit-":g.indexOf("Firefox")>-1?"-moz-":g.indexOf("MSIE")>-1?"-ms-":g.indexOf("Opera")>-1?"-o-":"";i.prototype={eachProperty:function(e){for(var t=this.values||0,r=0;t.length>r;r++){var n=t[r];e.call(this,n||"unnamed",t[n])}},fullSelector:function(){return(this.parent?this.parent.fullSelector():"")+(this.selector||"")+" "},newRule:function(e){return(this.rules||(this.rules={}))[e]=new i},newCall:function(e){var t=new l(e);return t},addSheetRule:function(e,t){if(t&&"@"!=e.charAt(0))try{var r=this.styleSheet.addRule(e,t,this.ruleIndex);return-1==r&&(r=this.styleSheet.cssRules.length-1),u.cssRules[r]}catch(n){console.warn("Unable to add rule",n)}},onRule:function(){this.getCssRule()},getCssRule:function(){return this.cssRule||(this.cssRule=this.addSheetRule(this.selector,this.cssText)),this.cssRule},get:function(e){return this.values[e]},declareProperty:function(t,r,n){if(">"==(""+r[0]).charAt(0)){if(!t)return this.generator=r,r=s(r,this),e.addRenderer("",r,this,r),void 0}else{var a=t in d.style||c(this,t);if(!n||!a){var i=this.properties||(this.properties={});i[t]=o(this,t,r),a&&console.warn('Overriding existing property "'+t+'"')}}},setValue:function(e,t){var n=this.values||(this.values=[]);n.push(e),n[e]=t;var a=t.calls;if(a)for(var i=0;a.length>i;i++){var l=a[i],s=l.ref;s&&"function"==typeof s.call&&s.call(l,this,e,t)}if(e){var o=e;do{var u=c(this,e);if(u){var f=this;r(u,function(e){e=e.splice?e:[e];for(var r=0;e.length>r;r++){var n=e[r],a=n.put&&n.put(t,f,o);if(a){a.then&&a.then(function(){});break}}});break}e=e.substring(0,e.lastIndexOf("-"))}while(e)}},cssText:""};var y=l.prototype=new i;y.declareProperty=y.setValue=function(e,t){this.args.push(t)},y.toString=function(){var e=this.operator;return e+this.args+p[e]};var x=!!v.addEventListener,S=d.matches||d.webkitMatchesSelector||d.msMatchesSelector||d.mozMatchesSelector,b=new i;return b.root=!0,b.properties={Math:Math,module:function(e){return{then:function(t){require([e],t)}}},item:{forElement:function(e){for(;!e.item;)e=e.parentNode;return{element:e,receive:function(t){t(e.item)}}}},prefix:{put:function(e,t,r){return"string"==typeof d.style[m+r]?t.addSheetRule(t.selector,m+r+":"+e):void 0}},"var":{put:function(e,t,r){(t.variables||(t.variables={}))[r]=e;var n=t.variableListeners;n=n&&n[r]||0;for(var a=0;n.length>a;a++)n[a](e)},call:function(e,t,r,n){this.receive(function(e){t.addSheetRule(t.selector,r+": "+(""+n).replace(/var\([^)]+\)/g,e))},t,e.args[0])},receive:function(e,t,r){var n=t;do{var a=n.variables&&n.variables[r];if(a){var i=n.variableListeners||(n.variableListeners={});return(i[r]||(i[r]=[])).push(e),e(a)}n=n.parent}while(n);e()}},on:{put:function(e,t,r){var a=this.on;n(o(t,r,e),0,function(e){a(document,r.slice(3),t.selector,e)})},on:function(e,t,r,n){function a(e){r=r||rule.fullSelector(),S.call(e.target,r)&&n(e)}x?e.addEventListener(t,a,!1):e.attachEvent(t,a)}}},xstyleReturn=function(e){return 1==arguments.length?e:[].slice.call(arguments)},b.setStyleSheet=function(e){u=e},b.resolveProperty=c,b}),define("xstyle/core/parser",[],function(){function e(){return this.join("")}function t(t){return t.toString=e,t}function r(e){this.value=e}function n(e,t){var r=e.cssText;t.cssText+=r,"values,properties,variables,calls".replace(/\w+/g,function(r){e[r]&&(t[r]=Object.create(e[r]))}),e.eachProperty(function(e,r){t.setValue(e,r)}),e.generator&&t.declareProperty(null,e.generator)}function a(e,h,p){function v(h,p){function g(e,r){r||(x+=e),R?R.push?"string"==typeof R[R.length-1]&&"string"==typeof e?R[R.length-1]+=e:e&&R.push(e):"string"==typeof R&&"string"==typeof e?R+=e:R=t([R,e]):R=e}h=h.replace(o,""),target=e,i.lastIndex=0;for(var m=0,y=!0,x="",S=!0;;){var b,w,R,E,T=i.exec(h),N=T[4],A=T[1],k=T[2],I=T[3];switch(I=I&&f(I),A=f(A),S?(k?(x=w=A,b=k.charAt(0),E="?"==k.charAt(1)):x=I=A,R=I,S=!1):(I=I?A+k:A,g(I)),N){case"'":case'"':var C="'"==N?l:s;C.lastIndex=i.lastIndex;var L=C.exec(h);L||error("unterminated string");var M=L[1];i.lastIndex=C.lastIndex,g(new r(M));continue;case"\\":var O=C.lastIndex++;g(h.charAt(O));continue;case"(":case"{":case"[":var P,$=!1;if("{"==N){if(S=!0,x=f(x.replace(/\s+/g," ").replace(/([\.#:])\S+|\w+/g,function(e,t){return t?e:e.toLowerCase()})),g(P=target.newRule(x),!0),"="==b&&(y=!1,k&&">"!=k.charAt(1)||(R.creating=!0),I&&($=!0)),target.root&&y){for(var q,V=m;q=p.cssRules[m++];)if(q.selectorText==x){P.cssRule=q;break}q||(P.ruleIndex=m=V,P.styleSheet=p)}}else{var j=I.match(/(.*?)([\w-]*)$/);g(P=target.newCall(j[2],R,target)),P.ref=e.resolveProperty(target,j[2]),(R.calls||(R.calls=[])).push(P)}if(P.parent=target,P.selector=R.creating?".x-generated-"+u++:target.root?x:target.selector+" "+x,$){var B=e.resolveProperty(target,I.match(/[^\s]+$/)[0],!0);B&&n(B,P)}if(target.currentName=w,target.currentSequence=R,target.assignmentOperator=b,":"==b){var D=e.resolveProperty(target,I);D&&D.pseudo&&D.pseudo(target,I)}d.push(target=P),target.operator=N,target.start=i.lastIndex,x="",w=null,R=null;continue}if(R){var A=R[0];if(A.charAt&&"@"==A.charAt(0)){if("import"==R[0].slice(1,7)){var F=a.getStyleSheet(p.cssRules[m++],R,p),z=i.lastIndex;v(F.localSource,F),i.lastIndex=z}}else if(b)try{target[":"==b?"setValue":"declareProperty"](w,R,E)}catch(U){console.error("Error on line ",h.slice(0,i.lastIndex).split("\n").length,"in",p.href,U.stack||U)}}switch(N){case":":"="==b?(S=!0,b=":"):g(":");break;case"}":case")":case"]":c[target.operator]!=N&&console.error("Incorrect opening operator "+target.operator+" with closing operator "+N),w=null;var _=h.slice(target.start,i.lastIndex-1);target.cssText=target.cssText?target.cssText+";"+_:_,"}"==N&&(target.onRule(target.selector,target),y=!0,x=""),d.pop(),target=d[d.length-1],R=target.currentSequence,w=target.currentName,b=target.assignmentOperator,target.root&&"}"==N&&(S=!0,b=!1);break;case"":return;case";":R=null,S=!0,y=!1,b=!1,x=""}}}var d=[e];e.parse=v,v(h,p)}var i=/\s*((?:[^{\}\[\]\(\)\\'":=;]|\[(?:[^\]'"]|'(?:\\.|[^'])*'|"(?:\\.|[^"])*")\])*)([=:]\??\s*([^{\}\[\]\(\)\\'":;]*))?([{\}\[\]\(\)\\'":;]|$)/g,l=/((?:\\.|[^'])*)'/g,s=/((?:\\.|[^"])*)"/g,o=/\/\*[\w\W]*?\*\//g,c={"{":"}","[":"]","(":")"},u=0,f="".trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")};return r.prototype.toString=function(){return'"'+this.value.replace(/["\\\n\r]/g,"\\$&")+'"'},a}),define("xstyle/main",["require","xstyle/core/parser","xstyle/core/ruleModel","xstyle/core/elemental"],function(e,t,r,n){"use strict";function a(e){for(var t=document.getElementsByTagName(e),r=0;t.length>r;r++)i(t[r])}function i(t,r,n){function a(){e(["xstyle/core/load-imports"],function(e){e(t,function(){i(t,r,!0)})})}var s=t.sheet||t.styleSheet||t,o=s.needsParsing,c=s.rules||s.cssRules;if(s.imports&&!n&&s.imports.length)return a();if(!o)for(var u=0;c.length>u;u++){var f=c[u];if(f.href&&!n)return a();f.selectorText&&"x-"==f.selectorText.substring(0,2)&&(o=!0,/^'/.test(f.style.content))}l(s.localSource||(s.ownerNode||s.ownerElement).innerHTML,s,r)}function l(e,n,a){function i(){0==--l&&a&&a(n)}n.addRule||(n.addRule=function(e,t,r){return this.insertRule(e+"{"+t+"}",r>=0?r:this.cssRules.length)}),n.deleteRule||(n.deleteRule=n.removeRule);var l=1;return(n.href||location.href).replace(/[^\/]+$/,""),r.css=e,t(r,e,n),i(r),r}n.ready(function(){a("link"),a("style")}),t.getStyleSheet=function(e){return e.styleSheet};var s={process:i,parse:l,load:function(e,t,r,n){t(["xstyle/css"],function(a){a.load(e,t,r,n)})}};return s});
/*
//@ sourceMappingURL=xstyle.min.js.map
*/