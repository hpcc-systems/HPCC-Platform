<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<sect1 id="Copy">
  <!-- DNT-Start --><title>Copy</title><!-- DNT-End -->

  <para><emphasis role="bold"><!-- DNT-Start -->STD<!-- DNT-End -->.File.<!-- DNT-Start -->Copy<!-- DNT-End --><indexterm>
      <primary><!-- DNT-Start -->STD<!-- DNT-End -->.File.<!-- DNT-Start -->Copy<!-- DNT-End --></primary>
    </indexterm><indexterm>
      <primary>File.<!-- DNT-Start -->Copy<!-- DNT-End --></primary>
    </indexterm><indexterm>
      <primary><!-- DNT-Start -->Copy<!-- DNT-End --></primary>
    </indexterm>(</emphasis> <emphasis> sourceLogicalName,
  destinationGroup</emphasis> <emphasis role="bold">, </emphasis>
  <emphasis>destinationLogicalName, </emphasis> <emphasis role="bold">
  [</emphasis> <emphasis>,sourceDali</emphasis> <emphasis role="bold">]
  [</emphasis> <emphasis>,timeOut</emphasis> <emphasis role="bold">]
  [</emphasis> <emphasis>,espServerIPPort </emphasis> <emphasis
  role="bold">]</emphasis> <emphasis role="bold"> [</emphasis>
  <emphasis>,maxConnections</emphasis> <emphasis role="bold">] [</emphasis>
  <emphasis>,allowOverwrite</emphasis> <emphasis role="bold">]</emphasis>
  <emphasis role="bold"> [</emphasis> <emphasis>,replicate</emphasis>
  <emphasis role="bold">] [</emphasis> <emphasis>,asSuperfile</emphasis>
  <emphasis role="bold">] [</emphasis> <emphasis>,compress</emphasis>
  <emphasis role="bold">] [</emphasis> <emphasis>,forcePush</emphasis>
  <emphasis role="bold">] [</emphasis>
  <emphasis>,transferBufferSize</emphasis> <emphasis role="bold">]
  [</emphasis> <emphasis>,preserveCompression</emphasis> <emphasis
  role="bold">]);</emphasis></para>

  <para><emphasis>dfuwuid</emphasis> <emphasis role="bold"> :=
  <!-- DNT-Start -->STD<!-- DNT-End -->.File.fCopy<indexterm>
      <primary><!-- DNT-Start -->STD<!-- DNT-End -->.File.fCopy</primary>
    </indexterm><indexterm>
      <primary>File.fCopy</primary>
    </indexterm><indexterm>
      <primary>fCopy</primary>
    </indexterm>(</emphasis> <emphasis> sourceLogicalName,
  destinationGroup</emphasis> <emphasis role="bold">,</emphasis> <emphasis
  role="bold"> </emphasis> <emphasis>destinationLogicalName, </emphasis>
  <emphasis role="bold"> [</emphasis> <emphasis>,sourceDali</emphasis>
  <emphasis role="bold">] [</emphasis> <emphasis>,timeOut</emphasis> <emphasis
  role="bold">] [</emphasis> <emphasis>,espServerIPPort </emphasis> <emphasis
  role="bold">]</emphasis> <emphasis role="bold"> [</emphasis>
  <emphasis>,maxConnections</emphasis> <emphasis role="bold">] [</emphasis>
  <emphasis>,allowOverwrite</emphasis> <emphasis role="bold">]</emphasis>
  <emphasis role="bold"> [</emphasis> <emphasis>,replicate</emphasis>
  <emphasis role="bold">] [</emphasis> <emphasis>,asSuperfile</emphasis>
  <emphasis role="bold">] [</emphasis> <emphasis>,compress</emphasis>
  <emphasis role="bold">] [</emphasis> <emphasis>,forcePush</emphasis>
  <emphasis role="bold">] [</emphasis>
  <emphasis>,transferBufferSize</emphasis> <emphasis role="bold">]
  [</emphasis> <emphasis>,preserveCompression</emphasis> <emphasis
  role="bold">]);</emphasis></para>

  <informaltable colsep="1" frame="all" rowsep="1">
    <tgroup cols="2">
      <colspec colwidth="80.50pt" />

      <colspec />

      <tbody>
        <row>
          <entry><!-- DNT-Start --><emphasis>sourceLogicalName</emphasis><!-- DNT-End --></entry>

          <entry>A null-terminated string containing the logical name of the
          file.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>destinationGroup</emphasis><!-- DNT-End --></entry>

          <entry>A null-terminated string containing the destination cluster
          for the file.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>destinationLogicalName</emphasis><!-- DNT-End --></entry>

          <entry>A null-terminated string containing the new logical name of
          the file.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>sourceDali</emphasis><!-- DNT-End --></entry>

          <entry>Optional. A null-terminated string containing the <!-- DNT-Start -->IP<!-- DNT-End --> and Port
          of the Dali containing the file to copy. If omitted, the default is
          an intra-Dali copy.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>timeOut</emphasis><!-- DNT-End --></entry>

          <entry>Optional. An integer value indicating the timeout setting. If
          omitted, the default is -1. If set to zero (0), execution control
          returns immediately to the <!-- DNT-Start -->ECL<!-- DNT-End --> workunit without waiting for the <!-- DNT-Start -->DFU<!-- DNT-End -->
          workunit to complete.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>espServerIPPort</emphasis><!-- DNT-End --></entry>

          <entry>Optional. A null-terminated string containing the protocol,
          <!-- DNT-Start -->IP<!-- DNT-End -->, port, and directory, or the <!-- DNT-Start -->DNS<!-- DNT-End --> equivalent, of the <!-- DNT-Start -->ESP<!-- DNT-End --> server
          program. This is usually the same <!-- DNT-Start -->IP<!-- DNT-End --> and port as <!-- DNT-Start -->ECL<!-- DNT-End --> Watch, with
          "/FileSpray" appended. If omitted, the default is the value
          contained in the lib_system.ws_fs_server attribute.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>maxConnections</emphasis><!-- DNT-End --></entry>

          <entry>Optional. An integer specifying the maximum number of
          connections. If omitted, the default is one (1).</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>allowOverwrite</emphasis><!-- DNT-End --></entry>

          <entry>Optional. A boolean <!-- DNT-Start -->TRUE<!-- DNT-End --> or <!-- DNT-Start -->FALSE<!-- DNT-End --> flag indicating whether to
          allow the new file to overwrite an existing file of the same name.
          If omitted, the default is <!-- DNT-Start -->FALSE<!-- DNT-End -->.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>replicate</emphasis><!-- DNT-End --></entry>

          <entry>Optional. A boolean <!-- DNT-Start -->TRUE<!-- DNT-End --> or <!-- DNT-Start -->FALSE<!-- DNT-End --> flag indicating whether to
          automatically replicate the new file. If omitted, the default is
          <!-- DNT-Start -->FALSE<!-- DNT-End -->.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>asSuperfile</emphasis><!-- DNT-End --></entry>

          <entry>Optional. A boolean <!-- DNT-Start -->TRUE<!-- DNT-End --> or <!-- DNT-Start -->FALSE<!-- DNT-End --> flag indicating whether to
          treat the file as a superfile. If omitted, the default is <!-- DNT-Start -->FALSE<!-- DNT-End -->. If
          <!-- DNT-Start -->TRUE<!-- DNT-End --> and the file to copy is a superfile, then the operation creates
          a superfile on the target, creating subfiles as needed while
          overwriting only those already existing subfiles whose content has
          changed. If <!-- DNT-Start -->FALSE<!-- DNT-End --> and the file to copy is a superfile, then the
          operation consolidates all the superfile content into a single
          logical file on the target, not a superfile.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>compress</emphasis><!-- DNT-End --></entry>

          <entry>Optional. A boolean <!-- DNT-Start -->TRUE<!-- DNT-End --> or <!-- DNT-Start -->FALSE<!-- DNT-End --> flag indicating whether to
          <!-- DNT-Start -->LZW<!-- DNT-End --> compress the new file. If omitted, the default is <!-- DNT-Start -->FALSE<!-- DNT-End -->.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>forcePush </emphasis><!-- DNT-End --></entry>

          <entry>Optional. A boolean <!-- DNT-Start -->TRUE<!-- DNT-End --> or <!-- DNT-Start -->FALSE<!-- DNT-End --> flag indicating whether to
          execute the copy process on the source nodes and push to the targets
          instead of executing on the targets and pulling from the source. If
          omitted, the default is <!-- DNT-Start -->FALSE<!-- DNT-End -->.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>transferBufferSize </emphasis><!-- DNT-End --></entry>

          <entry>Optional. An integer value to override the <!-- DNT-Start -->DFU<!-- DNT-End --> Server's
          buffer size value (default is 64k)</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>preserveCompression </emphasis><!-- DNT-End --></entry>

          <entry>Optional. A boolean <!-- DNT-Start -->TRUE<!-- DNT-End --> or <!-- DNT-Start -->FALSE<!-- DNT-End --> flag indicating whether to
          preserve the compression of the old file when copying. If omitted,
          the default is <!-- DNT-Start -->TRUE<!-- DNT-End -->.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start --><emphasis>dfuwuid</emphasis><!-- DNT-End --></entry>

          <entry>The attribute name to receive the null-terminated string
          containing the <!-- DNT-Start -->DFU<!-- DNT-End --> workunit <!-- DNT-Start -->ID<!-- DNT-End --> (<!-- DNT-Start -->DFUWUID<!-- DNT-End -->) generated for the
          job.</entry>
        </row>

        <row>
          <entry><!-- DNT-Start -->Return:<emphasis> </emphasis><!-- DNT-End --></entry>

          <entry><!-- DNT-Start -->Copy<!-- DNT-End --> returns a null-terminated string containing the <!-- DNT-Start -->DFU<!-- DNT-End -->
          workunit <!-- DNT-Start -->ID<!-- DNT-End --> (<!-- DNT-Start -->DFUWUID<!-- DNT-End -->).</entry>
        </row>
      </tbody>
    </tgroup>
  </informaltable>

  <para>The <emphasis role="bold"><!-- DNT-Start -->Copy<!-- DNT-End --> </emphasis>function takes a logical
  file and copies it to another logical file. This may be done within the same
  cluster, or to another cluster, or to a cluster in a completely separate
  Dali.</para>

  <para>Example:</para>

  <!-- DNT-Start --><programlisting format="linespecific">STD.File.Copy('OUT::MyFile','400way','OUT::MyNewFile');
</programlisting><!-- DNT-End -->
</sect1>
