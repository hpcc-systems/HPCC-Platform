<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<sect1 id="User_Security_Maint">
  <title>User Security Maintenance</title>

  <para>Configuring an HPCC Systems<superscript>®</superscript> platform to
  use Active Directory or LDAP-based security allows you to set permissions to
  control access to Features, File Scopes, and Workunit Scopes.</para>

  <sect2 id="User_Security_Intro">
    <title>Introduction</title>

    <para>HPCC Systems<superscript>®</superscript> maintains security in a
    number of ways. HPCC Systems<superscript>®</superscript> can be configured
    to manage users' security rights by pointing either at Microsoft's Active
    Directory on a Windows system, or a 389Directory Server on Linux
    systems.</para>

    <para>Using the Permissions interface in ECL Watch, administrators can
    control access to features in ECL IDE, ECL Watch, ECL Plus, DFU Plus, and
    the ECL modules within the Attribute Repository. Optionally, you can also
    implement file and workunit access control by enabling that setting in the
    Dali server.</para>

    <para>Establish permissions by group or by user and define them by
    association with a particular feature of the HPCC Systems platform.
    Permissions can be defined for each unique combination of group and
    feature. Permissions are separated into the following
    categories:<informaltable frame="all">
        <tgroup cols="2" colsep="1">
          <colspec colwidth="185pt" />

          <tbody>
            <row>
              <entry><emphasis role="bold">Esp Features for
              SMC</emphasis></entry>

              <entry>Controls access to features in ECLWatch and similar
              features accessed from ECL IDE.</entry>
            </row>

            <row>
              <entry><emphasis role="bold">Esp Features for
              WsEclAccess</emphasis></entry>

              <entry>Controls access to the WS-ECL web service</entry>
            </row>

            <row>
              <entry><emphasis role="bold">Esp Features for
              EclDirectAccess</emphasis></entry>

              <entry>Controls access to the ECLDirect web service</entry>
            </row>

            <row>
              <entry><emphasis role="bold">File Scopes</emphasis></entry>

              <entry>Controls access to data files by applying permissions to
              File scopes</entry>
            </row>

            <row>
              <entry><emphasis role="bold">Workunit Scopes</emphasis></entry>

              <entry>Controls access to Workunits by applying permissions to
              Workunit scopes</entry>
            </row>

            <row>
              <entry><emphasis role="bold">Repository
              Modules</emphasis></entry>

              <entry>Controls access to the Attribute Repository and Modules
              in the repository (legacy)</entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable></para>
  </sect2>

  <sect2 id="Sec_Adm_w_ECLWatch" role="brk">
    <title>Security Administration using ECL Watch</title>

    <para>Administrator rights are needed to manage permissions. Once you have
    administrator access rights, open ECL Watch in your browser using the
    following URL:</para>

    <itemizedlist>
      <listitem>
        <para><emphasis
        role="bold">http://nnn.nnn.nnn.nnn:pppp</emphasis><emphasis
        role="bold"> (where nnn.nnn.nnn.nnn is your ESP Server's IP Address
        and pppp is the port. The default port is 8010)<emphasis>.
        </emphasis></emphasis></para>
      </listitem>
    </itemizedlist>

    <para>Security administration is controlled using the <emphasis
    role="bold">Security</emphasis> area of ECL Watch. To access the Security
    are click on the<emphasis role="bold">Operations</emphasis> icon, then
    click the <emphasis role="bold">Security</emphasis> link from the
    navigation sub-menu.</para>

    <para><graphic fileref="../../images/ECLWAOpSec.jpg"
    vendor="eclwatchSS" />There are three areas where permissions may be
    set:</para>

    <itemizedlist>
      <listitem>
        <para><emphasis role="bold">Users</emphasis>. Shows all the users
        currently setup. Use this area to add or delete a user, edit a user's
        details, set/reset a user's password and view the permissions
        currently assigned to a user.</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Groups</emphasis>. Shows all the groups
        currently setup. Use this area to add or delete a group, view and edit
        the members of a group, view and edit the permissions that have been
        set for a group.</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Permissions</emphasis>. Shows the features
        of the HPCC Systems where permissions may be set. Use this area to
        view the permissions currently set for any area of HPCC Systems, or to
        add groups and users and set/modify their permission for a specific
        feature</para>
      </listitem>
    </itemizedlist>

    <para><informaltable colsep="1" frame="all" rowsep="1">
        <?dbfo keep-together="always"?>

        <tgroup cols="2">
          <colspec colwidth="49.50pt" />

          <colspec />

          <tbody>
            <row>
              <entry><inlinegraphic
              fileref="../../images/caution.png" /></entry>

              <entry><para><emphasis role="bold">NOTE:</emphasis> Use caution
              when setting any explicit <emphasis role="bold">deny</emphasis>
              permission setting. The most restrictive permission always
              applies. </para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable></para>

    <sect3 id="My_Account_Info" role="brk">
      <title>Information about your account</title>

      <para>To find out more information about your account, in ECL Watch
      click on your username link under <emphasis role="bold">Logged In
      As:</emphasis> at the top of the ECL Watch page.</para>

      <para><graphic fileref="../../images/ECLWMyAccount.jpg"
      vendor="eclwatchSS" /> <itemizedlist>
          <listitem>
            <para>A <emphasis role="bold">User Details</emphasis> tab with
            your account information displays.<graphic
            fileref="../../images/ECLWUserDetails.jpg"
            vendor="eclwatchSS" /></para>
          </listitem>

          <listitem>
            <para>You can change your password here, if desired.</para>
          </listitem>

          <listitem>
            <para>You can also verify the password expiration date, if your
            password is set to expire.</para>
          </listitem>
        </itemizedlist></para>
    </sect3>

    <sect3 id="UsingSecurity_SettingAndModifyingUserPermissions" role="brk">
      <title>Setting and modifying user permissions</title>

      <para>In a security-enabled environment, access to ECL Watch and its
      features is controlled using a login and password. The <emphasis
      role="bold">Users</emphasis> area enables you to control who has access
      to ECL Watch and the features of your HPCC Systems to which they have
      access. Permissions can be set for users based on their individual needs
      and users can also be added to groups which have already been set up.
      Use the <emphasis role="bold">Users</emphasis> menu item to:</para>

      <itemizedlist>
        <listitem>
          <para>Add a new user (<emphasis role="bold">note</emphasis>: the
          Username cannot be changed)</para>
        </listitem>

        <listitem>
          <para>Delete a user</para>
        </listitem>

        <listitem>
          <para>Add a user to a group</para>
        </listitem>

        <listitem>
          <para>Change a user's password</para>
        </listitem>

        <listitem>
          <para>Modify the details/permissions of an individual user</para>
        </listitem>
      </itemizedlist>
    </sect3>

    <sect3 id="Adding_Users" role="brk">
      <title>Adding and editing users</title>

      <para>To access the user administration sections click on the<emphasis
      role="bold"> Operations</emphasis> icon, then click the <emphasis
      role="bold">Security</emphasis> link from the navigation sub-menu. Click
      on the <emphasis role="bold">Users</emphasis> tab to add or edit
      users.</para>

      <graphic fileref="../../images/Permissions001.jpg" vendor="eclwatchSS" />

      <para>All current users are identified in the list by their Username and
      Full Name.</para>

      <sect4 id="UsingSecurity_AddANewUser">
        <title>To add a new user to the list of authenticated users:</title>

        <para>To add a new user you must have Administrator level access.
        <graphic fileref="../../images/Perm007.jpg"
        vendor="eclwatchSS" /></para>

        <orderedlist>
          <listitem>
            <para>Press the <emphasis role="bold">Add</emphasis>
            button.</para>

            <para>The add user dialog displays.</para>
          </listitem>

          <listitem>
            <para>Enter a <emphasis role="bold">Username</emphasis>.</para>

            <para>This is the login name to use ECL Watch, ECL IDE, WsECL,
            etc.</para>
          </listitem>

          <listitem>
            <para>Enter the <emphasis role="bold">First Name</emphasis> and
            <emphasis role="bold">Last Name</emphasis> of the user.</para>

            <para>This information helps to easily identify the user and is
            displayed in the <emphasis role="bold">Full Name</emphasis> field
            on the main <emphasis role="bold">Users</emphasis> window.</para>
          </listitem>

          <listitem>
            <para>Enter a <emphasis role="bold">Password</emphasis> for the
            user and then confirm it in the <emphasis role="bold">Retype
            Password</emphasis> field.</para>

            <para><variablelist>
                <varlistentry>
                  <term>NOTE:</term>

                  <listitem>
                    <para>The password must conform to the policy of your
                    security manager server.</para>
                  </listitem>
                </varlistentry>
              </variablelist></para>
          </listitem>

          <listitem>
            <para>Press the <emphasis role="bold">Add</emphasis>
            button.</para>

            <para>A successful addition opens a new tab where you can verify
            the new user's information.</para>
          </listitem>

          <listitem>
            <para>Press the <emphasis role="bold">Save</emphasis>
            button.</para>
          </listitem>
        </orderedlist>

        <para>Once added, the new user displays in the list and you can modify
        details and set permissions as required.</para>
      </sect4>

      <sect4 id="UsingSecurity_ModifyUsersDetails">
        <title>To modify a user's details:</title>

        <para>Click on the<emphasis role="bold"> Operations</emphasis> icon,
        then click the <emphasis role="bold">Security</emphasis> link from the
        navigation sub-menu.</para>

        <orderedlist>
          <listitem>
            <para>Click on the <emphasis role="bold">Users<emphasis>
            tab</emphasis></emphasis>.</para>

            <para>The users display in a list.</para>
          </listitem>

          <listitem>
            <para>Select the user (or users) to modify. Click on the <emphasis
            role="bold">Username</emphasis> link to open the users' details
            tab.</para>

            <para>To select multiple users, check the box next to the Username
            to select. This enables the Users action buttons. Press the
            <emphasis role="bold">Open</emphasis> action button.</para>

            <para><graphic fileref="../../images/Perm008.jpg" />A tab opens
            for each user selected. On each user's tab there are several
            sub-tabs.</para>

            <para>The user's details are on the <emphasis
            role="bold">Summary</emphasis> tab.</para>
          </listitem>

          <listitem>
            <para>Modify the user's details as required (if more than one user
            selected, repeat for each user).</para>

            <variablelist>
              <varlistentry>
                <term>Note:</term>

                <listitem>
                  <para>The <emphasis role="bold">Username</emphasis> cannot
                  be changed.</para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>

          <listitem>
            <para>Press the <emphasis role="bold">Save</emphasis>
            button.</para>

            <para>A confirmation message displays.</para>
          </listitem>
        </orderedlist>
      </sect4>

      <sect4 id="UsingSecurity_AddAUserToAGroup">
        <title>To add a user to a group:</title>

        <para>Click on the <emphasis role="bold">Operations</emphasis> icon,
        then click the <emphasis role="bold">Security</emphasis> link from the
        navigation sub-menu.</para>

        <orderedlist>
          <listitem>
            <para>Click on the <emphasis role="bold">Users<emphasis>
            tab</emphasis></emphasis>.</para>

            <para>The users display in a list.</para>
          </listitem>

          <listitem>
            <para>Select the user (or users) to modify. Click on the <emphasis
            role="bold">Username</emphasis> link to open the users' details
            tab.</para>

            <para>To select multiple users, check the box next to the Username
            to select. This enables the Users action buttons. Press the
            <emphasis role="bold">Open</emphasis> action button.</para>

            <para><graphic fileref="../../images/Perm008.jpg" />A tab opens
            for each user selected. On each user's tab there are several
            sub-tabs.</para>

            <para>The user's details are on the <emphasis
            role="bold">Summary</emphasis> tab.</para>
          </listitem>

          <listitem>
            <para>Click on the tab for the user to modify (if more than one
            user selected, repeat for each user).</para>

            <para>On the user's tab there are several sub-tabs. <graphic
            fileref="../../images/Perm009.jpg" /></para>

            <para>Click on the <emphasis role="bold">Member Of</emphasis>
            sub-tab to modify that user's groups.</para>
          </listitem>

          <listitem>
            <para>On the <emphasis role="bold">Member Of</emphasis> tab for
            that user, a list of the available groups display.</para>

            <para>To add the user to the group, check the box next to the
            desired group.</para>
          </listitem>

          <listitem>
            <para>The changes are automatically saved. Close the tab.</para>
          </listitem>
        </orderedlist>
      </sect4>

      <sect4 id="UsingSecurity_PromoteUsertoAdministrator">
        <title>To promote a user to an Administrator</title>

        <para>To modify a users credentials you must have Administrator level
        access. You can designate the HPCC Systems Administrator account to
        have limited permissions only relating to HPCC Systems elements and
        not LDAP administrator's rights. To promote a user to an HPCC Systems
        Administrator, add the user to the configured <emphasis
        role="bold">Administrators</emphasis> group.</para>

        <para>Click on the<emphasis role="bold"> Operations</emphasis> icon,
        then click the <emphasis role="bold">Security</emphasis> link from the
        navigation sub-menu. <graphic
        fileref="../../images/Permissions001.jpg" /></para>

        <orderedlist>
          <listitem>
            <para>Click on the <emphasis role="bold">Users<emphasis>
            tab</emphasis></emphasis>.</para>

            <para>The users display in a list.</para>
          </listitem>

          <listitem>
            <para>Select the user (or users) to promote. Click on the
            <emphasis role="bold">Username</emphasis> link to open the users'
            details tab.</para>

            <para>To select multiple users, check the box next to the Username
            to select. This enables the Users action buttons. Press the
            <emphasis role="bold">Open</emphasis> action button.</para>

            <para><graphic fileref="../../images/Perm008.jpg" />A tab opens
            for each user selected. On each user's tab there are several
            sub-tabs.</para>

            <para>The user's details are on the <emphasis
            role="bold">Summary</emphasis> tab.</para>
          </listitem>

          <listitem>
            <para>Click on the tab for the user to modify (if more than one
            user selected, repeat for each user).</para>

            <para>On the user's tab there are several sub-tabs.</para>

            <para>Click on the <emphasis role="bold">Member Of</emphasis>
            sub-tab. <graphic fileref="../../images/Perm016.jpg" /></para>
          </listitem>

          <listitem>
            <para>Select <emphasis role="bold">Administrators</emphasis> by
            placing a check in box.</para>

            <para><variablelist>
                <varlistentry>
                  <term>NOTE:</term>

                  <listitem>
                    <para>The name of the default Administrators group could
                    vary. It is a configurable value defined as the value of
                    <emphasis role="bold">adminGroupName</emphasis> in the
                    configuration. For example, if you set the adminGroupName
                    to "HPCCAdministrators", in the environment then
                    HPCCAdministrators would display in the list.</para>
                  </listitem>
                </varlistentry>
              </variablelist></para>
          </listitem>

          <listitem>
            <para>The changes are automatically saved. Close the
            tab(s).</para>
          </listitem>
        </orderedlist>
      </sect4>

      <sect4 id="UsingSecurity_DeleteUserFromGroup">
        <title>To delete a user from a group:</title>

        <para>To delete a user from a group you must have Administrator level
        access.</para>

        <para>Click on the <emphasis role="bold">Operations</emphasis> icon,
        then click the <emphasis role="bold">Security</emphasis> link from the
        navigation sub-menu.</para>

        <para><orderedlist>
            <listitem>
              <para>Click on the <emphasis role="bold">Users<emphasis>
              tab</emphasis></emphasis>.</para>

              <para>The users display in a list.</para>
            </listitem>

            <listitem>
              <para>Select the user (or users) to remove. Click on the
              <emphasis role="bold">Username</emphasis> link to open the
              users' details tabs.</para>

              <para>To select multiple users, check the box next to the
              Username to select. This enables the Users action buttons. Press
              the <emphasis role="bold">Open</emphasis> action button.</para>

              <para><graphic fileref="../../images/Perm008.jpg" />A tab opens
              for each user selected. On each user's tab there are several
              sub-tabs.</para>
            </listitem>

            <listitem>
              <para>Click on the tab of the user to modify (if multiple users
              selected, repeat for each user).</para>

              <para>On the user's tab there are several sub-tabs. <graphic
              fileref="../../images/Perm009.jpg" /></para>

              <para>Click on the <emphasis role="bold">Member Of</emphasis>
              sub-tab to modify that user's groups.</para>
            </listitem>

            <listitem>
              <para>On the <emphasis role="bold">Member Of</emphasis> tab for
              that user, there is a list of the available groups.</para>

              <para>There is a check in the box next to each group that user
              belongs to.</para>

              <para>To remove that user from a group, uncheck the box next to
              the desired group.</para>
            </listitem>

            <listitem>
              <para>The changes are automatically saved. Close the tab.</para>
            </listitem>
          </orderedlist></para>
      </sect4>

      <sect4 id="UsingSecurity_ChangeUsersPassword">
        <title>To change a user's password:</title>

        <para>Click on the<emphasis role="bold"> Operations</emphasis> icon,
        then click the <emphasis role="bold">Security</emphasis> link from the
        navigation sub-menu.</para>

        <orderedlist>
          <listitem>
            <para>Click on the <emphasis role="bold">Users<emphasis>
            tab</emphasis></emphasis>.</para>

            <para>The users display in a list.</para>
          </listitem>

          <listitem>
            <para>Select the user (or users) to modify. Click on the <emphasis
            role="bold">Username</emphasis> link to open the users' details
            tab.</para>

            <para>To select multiple users, check the box next to the Username
            to select. This enables the Users action buttons. Press the
            <emphasis role="bold">Open</emphasis> action button. <graphic
            fileref="../../images/Perm008.jpg" /></para>

            <para>A tab opens for each user selected. On that tab there are
            several sub-tabs.</para>

            <para>The user details are on the <emphasis
            role="bold">Summary</emphasis> tab.</para>
          </listitem>

          <listitem>
            <para>Select the Summary tab.</para>
          </listitem>

          <listitem>
            <para>Change the password in the <emphasis
            role="bold">Password</emphasis> and <emphasis role="bold">Retype
            New Password</emphasis> fields as required on the User details
            summary tab (if multiple users selected, repeat for each
            user).</para>

            <para><emphasis role="bold">Note</emphasis>: The <emphasis
            role="bold">Username</emphasis> cannot be changed.</para>
          </listitem>

          <listitem>
            <para>Press the <emphasis role="bold">Save</emphasis>
            button.</para>

            <para>A confirmation message displays.</para>
          </listitem>
        </orderedlist>
      </sect4>

      <sect4 id="UsingSecurity_DeleteUserFromListofAuthenticatedUsers">
        <title>To delete a user from the list of authenticated users:</title>

        <para>Click on the<emphasis role="bold"> Operations</emphasis> icon,
        then click the <emphasis role="bold">Security</emphasis> link from the
        navigation sub-menu.</para>

        <para><orderedlist>
            <listitem>
              <para>Click on the <emphasis role="bold">Users</emphasis>
              tab.</para>

              <para>The users display in a list.</para>
            </listitem>

            <listitem>
              <para>Check the box to the left of the user(s) you want to
              remove.</para>

              <para><emphasis role="bold">Note:</emphasis> These users will no
              longer have access to ECL Watch.</para>
            </listitem>

            <listitem>
              <para>Press the <emphasis role="bold">Delete</emphasis> action
              button.</para>

              <para>Confirmation displays.</para>
            </listitem>
          </orderedlist></para>
      </sect4>
    </sect3>

    <sect3 id="UsingSecurity_SettingPermissionsForIndividualUser">
      <title>Setting permissions for an individual user</title>

      <para>There may be occasions when you need to modify the permissions for
      individual users. For example, users may have individual security needs
      that are not completely covered in any group or, there may be occasions
      when a user requires temporary access to an HPCC Systems feature.
      Permissions set in this area of ECL Watch only affect the user you
      choose. Most individual permissions you set here overwrite ones set in
      any group to which the user belongs, except in the case of an explicit
      deny.</para>

      <sect4>
        <title>To set permissions for an individual user:</title>

        <para>Click on the<emphasis role="bold"> Operations</emphasis> icon,
        then click the <emphasis role="bold">Security</emphasis> link from the
        navigation sub-menu.</para>

        <orderedlist>
          <listitem>
            <para>Click on the <emphasis role="bold">Users<emphasis>
            tab</emphasis></emphasis>.</para>

            <para>The users display in a list.</para>
          </listitem>

          <listitem>
            <para>Select the user (or users) to modify. Click on the <emphasis
            role="bold">Username</emphasis> link to open the users' details
            tab.</para>

            <para>To select multiple users, check the box next to the Username
            to select. This enables the Users action buttons. Press the
            <emphasis role="bold">Open</emphasis> action button.</para>
          </listitem>

          <listitem>
            <para>Click on the tab of the username to modify (if multiple
            users selected, repeat for each user).</para>

            <para>On the user's tab there are several sub-tabs. <graphic
            fileref="../../images/Perm010.jpg" /></para>

            <para>Click on the <emphasis role="bold">Active
            Permissions</emphasis> sub-tab to view the user's current
            permissions.</para>
          </listitem>

          <listitem>
            <para>Click on the <emphasis role="bold">Available
            Permissions</emphasis> tab to see all the sets of permissions that
            are available to apply to that user.</para>

            <para>When you select permissions from the Available Permissions
            tab, they display and can be set in the Active Permissions
            tab.</para>
          </listitem>

          <listitem>
            <?dbfo keep-together="always"?>

            <para>Click on the arrow next to the resource to display the
            permissions that can be set for that resource. <graphic
            fileref="../../images/Perm011.jpg" vendor="eclwatchSS" /></para>

            <para>The list of permission groups currently set for this user
            and the ones the user has inherited are also listed. Click the
            arrow to allow setting the individual resource settings.</para>
          </listitem>

          <listitem>
            <para>There may be more than one resource setting available in
            each group, be sure to set the permissions for each setting as
            required.</para>
          </listitem>

          <listitem>
            <para>Check the boxes that <emphasis role="bold">allow</emphasis>
            and <emphasis role="bold">deny</emphasis> access as required for
            the user. <graphic fileref="../../images/Perm012.jpg" /></para>

            <para><informaltable colsep="1" frame="all" rowsep="1">
                <?dbfo keep-together="always"?>

                <tgroup cols="2">
                  <colspec colwidth="49.50pt" />

                  <colspec />

                  <tbody>
                    <row>
                      <entry><inlinegraphic
                      fileref="../../images/caution.png" /></entry>

                      <entry><para><emphasis role="bold">NOTE:</emphasis> Use
                      caution when setting any explicit <emphasis
                      role="bold">deny</emphasis> permission setting. The most
                      restrictive permission always applies. </para></entry>
                    </row>
                  </tbody>
                </tgroup>
              </informaltable></para>
          </listitem>

          <listitem>
            <para>The changes are automatically saved. Close the tab.</para>
          </listitem>
        </orderedlist>
      </sect4>
    </sect3>

    <sect3 id="UsingSecurity_SettingUpModifyingGroupPermissions">
      <title>Setting and modifying group permissions</title>

      <para>Setting up groups ensures that all users with the same permission
      needs have the same permission settings. You can give users the access
      they require to the feature areas of HPCC Systems that they need. There
      is no limit to the number of groups you can create. You can create as
      many groups as you need to control access for all your users regardless
      of their tasks.</para>

      <para>Use the <emphasis role="bold">Groups</emphasis> menu item
      to:<itemizedlist>
          <listitem>
            <para>Add a new group.</para>
          </listitem>

          <listitem>
            <para>Delete a group.</para>
          </listitem>

          <listitem>
            <para>Add members to a group.</para>
          </listitem>

          <listitem>
            <para>Modify the permissions for a group.</para>
          </listitem>
        </itemizedlist></para>

      <sect4 id="UsingSecurity_AddingEditingGroups">
        <title>Adding and editing groups</title>

        <para>When adding or changing the permissions for a group, all members
        of that group are given those permission settings. So it is important
        to be sure that you are giving or denying access to features
        appropriate for the members of that group. If you need to make a
        change for a single user (or small number of users), it is probably
        better to make that change for each individual user as illustrated in
        the previous sections. <graphic fileref="../../images/Perm001a.jpg"
        vendor="eclwatchSS" />To modify groups, click on the<emphasis
        role="bold"> Operations</emphasis> icon, then click the <emphasis
        role="bold">Security</emphasis> link from the navigation sub-menu.
        Click on the <emphasis role="bold">Groups</emphasis> tab.</para>
      </sect4>

      <sect4 id="UsingSecurity_ToAddNewGroup">
        <title>To add a new group:</title>

        <para>Click on the <emphasis role="bold">Operations</emphasis> icon,
        then click the <emphasis role="bold">Security</emphasis> link from the
        navigation sub-menu.</para>

        <para><orderedlist>
            <listitem>
              <para>Click on the <emphasis role="bold">Groups</emphasis>
              tab.</para>
            </listitem>

            <listitem>
              <para>Press the <emphasis role="bold">Add</emphasis> action
              button button. <graphic fileref="../../images/Perm013.jpg"
              vendor="eclwatchSS" /></para>

              <para>This opens a dialog where you can enter the name for the
              group.</para>
            </listitem>

            <listitem>
              <para>Enter a <emphasis role="bold">Group
              Name</emphasis>.</para>
            </listitem>

            <listitem>
              <para>Enter the fully qualified Distinguished Name for the owner
              of the group <emphasis role="bold">Managed By</emphasis>
              field.</para>
            </listitem>

            <listitem>
              <para>Enter a description of the group. (optional)</para>
            </listitem>

            <listitem>
              <para>Press the <emphasis role="bold">Add</emphasis>
              button.</para>

              <para>This opens a new tab for the group and several sub
              tabs</para>

              <para>The <emphasis role="bold">Summary</emphasis> sub-tab
              displays the group name.</para>

              <para>The <emphasis role="bold">Members</emphasis> tab displays
              the list of users, check the box next to each user to add to the
              group.</para>

              <para>The <emphasis role="bold">Active Group
              Permissions</emphasis> tab displays the permissions applied to
              the group.</para>

              <para>The <emphasis role="bold">Available Group
              Permissions</emphasis> tab displays all the available
              permissions, selecting from the Available Permissions applies
              them to the Active Group Permissions.</para>

              <para>You can set the permissions and add members to this group
              from the respective sub-tabs on that group tab.</para>
            </listitem>
          </orderedlist></para>
      </sect4>

      <sect4 id="UsingSecurity_ToDeleteGroup">
        <title>To delete a group:</title>

        <para>Click on the <emphasis role="bold">Operations</emphasis> icon,
        then click the <emphasis role="bold">Security</emphasis> link from the
        navigation sub-menu.</para>

        <para><orderedlist>
            <listitem>
              <para>Click on the <emphasis role="bold">Groups</emphasis>
              tab.</para>
            </listitem>

            <listitem>
              <para>Locate the group in the list and check the checkbox next
              to it.</para>
            </listitem>

            <listitem>
              <para>Press the <emphasis role="bold">Delete</emphasis> action
              button.</para>
            </listitem>

            <listitem>
              <para>Press the <emphasis role="bold">OK</emphasis> confirmation
              button.</para>

              <para>The group no longer displays in the list.</para>
            </listitem>
          </orderedlist></para>
      </sect4>

      <sect4 id="UsingSecurity_ToAddNewMembersToGroup">
        <title>To add new members to a group:</title>

        <para>Click on the <emphasis role="bold">Operations</emphasis> icon,
        then click the <emphasis role="bold">Security</emphasis> link from the
        navigation sub-menu.</para>

        <para><orderedlist>
            <listitem>
              <para>Click on the <emphasis role="bold">Groups</emphasis>
              tab.</para>
            </listitem>

            <listitem>
              <para>Locate the group in the list and check the box next to
              it.</para>
            </listitem>

            <listitem>
              <para>Press <emphasis role="bold">Open</emphasis> action
              button.</para>

              <para>This opens a new tab for the group.</para>

              <para>The sub-tabs display: <emphasis
              role="bold">Summary</emphasis>, <emphasis
              role="bold">Members</emphasis>, <emphasis role="bold">Active
              Group Permissions</emphasis>, and <emphasis
              role="bold">Available Group Permissions</emphasis>.</para>
            </listitem>

            <listitem>
              <para>Select the <emphasis role="bold">Members</emphasis>
              tab.</para>

              <para>The members tab displays a list of all users on the
              system. The users that belong to the selected group have a check
              in the box next to them.</para>
            </listitem>

            <listitem>
              <para>Check the box(es) to the left of the users you want to add
              to the group.</para>
            </listitem>

            <listitem>
              <para>The changes are automatically saved. Close the tab.</para>
            </listitem>
          </orderedlist></para>
      </sect4>

      <sect4 id="UsingSecurity_ToDeleteMembersFromGroup">
        <title>To delete members from a group:</title>

        <para>Click on the <emphasis role="bold">Operations</emphasis> icon,
        then click the <emphasis role="bold">Security</emphasis> link from the
        navigation sub-menu.</para>

        <para><orderedlist>
            <listitem>
              <para>Click on the <emphasis role="bold">Groups</emphasis>
              tab.</para>
            </listitem>

            <listitem>
              <para>Locate the group in the list and check the box next to
              it.</para>
            </listitem>

            <listitem>
              <para>Press the <emphasis role="bold">Open</emphasis> action
              button.</para>

              <para>This opens a new tab for the group.</para>

              <para>The Groups tab has several sub-tabs: <emphasis
              role="bold">Summary</emphasis>, <emphasis
              role="bold">Members</emphasis>, <emphasis role="bold">Active
              Group Permissions</emphasis> and <emphasis role="bold">
              Available Group Permissions</emphasis>.</para>
            </listitem>

            <listitem>
              <para>Select the <emphasis role="bold">Members</emphasis>
              tab.</para>

              <para>The Members tab displays a list of all users on the
              system. The users that belong to the selected group have a check
              in the box next to them.</para>
            </listitem>

            <listitem>
              <para>Uncheck the box(es) to the left for all users you want to
              delete from the group.</para>
            </listitem>

            <listitem>
              <para>The changes are automatically saved. Close the tab.</para>
            </listitem>
          </orderedlist></para>
      </sect4>
    </sect3>

    <sect3 id="UsingSecurity_SettingPermissionsForGroup">
      <title>Setting permissions for a group</title>

      <para>By default, all users are members of the <emphasis
      role="bold">Authenticated Users </emphasis>group. The <emphasis
      role="bold">Authenticated Users</emphasis> group has access rights to
      almost all resources. To set up more restricted controls, you should
      create specific groups with more restricted permissions.</para>

      <para>You can then create groups with only those access rights you wish
      to grant. This approach allows the most flexibility since a single User
      ID can have multiple group memberships.</para>

      <para>As a best practice, you should use <emphasis
      role="bold">Allow</emphasis> instead of <emphasis
      role="bold">Deny</emphasis> to control access. Denies should be used
      only as an exception, when possible. If you wish to deny a user access
      to some specific control, a good practice would be to create a group for
      that, place the user(s) in that group, then you can deny access to that
      group.</para>

      <para>Remember the most restrictive control takes precedence. For
      example, if a user is in a group that has deny permission to file
      access, and the user is in another group where file access is allowed,
      that user will still not have file access.</para>

      <sect4 id="UsingSecurity_ToSetPermissionsForGroup">
        <title>To set permissions for a group:</title>

        <para>Click on the <emphasis role="bold">Operations</emphasis> icon,
        then click the <emphasis role="bold">Security</emphasis> link from the
        navigation sub-menu. <graphic fileref="../../images/Perm001a.jpg"
        vendor="eclwatchSS" /></para>

        <orderedlist>
          <listitem>
            <para>Click the <emphasis role="bold">Groups</emphasis>
            tab.</para>
          </listitem>

          <listitem>
            <para>Locate the group in the list and check the box next to
            it.</para>
          </listitem>

          <listitem>
            <para>Press the <emphasis role="bold">Open</emphasis> action
            button.</para>

            <para>This opens a new tab for the group. <graphic
            fileref="../../images/Perm010b.jpg" vendor="eclwatchSS" /></para>

            <para>The group tab displays the sub-tabs: <emphasis
            role="bold">Summary</emphasis>, <emphasis
            role="bold">Members</emphasis>, <emphasis role="bold">Active Group
            Permissions</emphasis> and <emphasis role="bold">Available Group
            Permissions</emphasis>.</para>
          </listitem>

          <listitem>
            <para>Select the <emphasis role="bold">Available Group Permissions
            </emphasis>sub-tab. This displays all the available permission
            resources.</para>
          </listitem>

          <listitem>
            <para>Click on the arrow to the left of the <emphasis
            role="bold">Resource</emphasis> to expand and expose the
            permission sets for the resources.</para>

            <para><graphic fileref="../../images/Perm011b.jpg"
            vendor="eclwatchSS" />The groups permission resources
            display.</para>
          </listitem>

          <listitem>
            <para>There may be more than one resource setting available in
            each group, be sure to set the permissions for each setting as
            required.</para>
          </listitem>

          <listitem>
            <?dbfo keep-together="always"?>

            <para>Check the boxes for <emphasis role="bold">allow</emphasis>
            and <emphasis role="bold">deny</emphasis> as required for the
            group. <graphic fileref="../../images/Perm012b.jpg" /></para>

            <para><informaltable colsep="1" frame="all" rowsep="1">
                <?dbfo keep-together="always"?>

                <tgroup cols="2">
                  <colspec colwidth="49.50pt" />

                  <colspec />

                  <tbody>
                    <row>
                      <entry><inlinegraphic
                      fileref="../../images/caution.png" /></entry>

                      <entry><para><emphasis role="bold">NOTE:</emphasis> Use
                      caution when setting any explicit <emphasis
                      role="bold">deny</emphasis> permission setting. The most
                      restrictive permission always applies. </para></entry>
                    </row>
                  </tbody>
                </tgroup>
              </informaltable></para>
          </listitem>

          <listitem>
            <para>There may be more than one resource setting available,
            select the resource(s) you require from the drop list.</para>

            <para>Repeat for each applicable resource.</para>
          </listitem>

          <listitem>
            <para>The changes are automatically saved. Close the tab.</para>
          </listitem>
        </orderedlist>
      </sect4>
    </sect3>
  </sect2>

  <sect2 id="Feature_Access">
    <title>Feature level access control</title>

    <para>Access to the feature permissions is available through ECL Watch. In
    order to modify feature permissions you must have Administrator level
    access. To access the feature permissions click on the <emphasis
    role="bold">Operations</emphasis> icon, then click the <emphasis
    role="bold">Security</emphasis> link from the navigation sub-menu.
    <graphic fileref="../../images/Perm005.jpg" vendor="eclwatchSS" /></para>

    <para>To use the feature level controls, apply the feature resource from
    the<emphasis role="bold"> Available Permissions</emphasis> tab to the
    <emphasis role="bold">Active Permissions</emphasis> for users and groups.
    Using the feature level controls allow you to:</para>

    <itemizedlist>
      <listitem>
        <para>View the features and permissions for any resource</para>
      </listitem>

      <listitem>
        <para>Edit the permissions for any feature</para>
      </listitem>

      <listitem>
        <para>Update the permissions for users and groups for a specific
        resource</para>
      </listitem>
    </itemizedlist>
  </sect2>

  <sect2 id="Feature_Resources" role="brk">
    <title>Feature resources</title>

    <para>There are several features for which you can set up access control
    in HPCC Systems. Access to features of the HPCC Systems platform is
    controlled by via the <emphasis role="bold">ESP Features for
    SMC</emphasis> category. <graphic fileref="../../images/Perm006.jpg"
    vendor="eclwatchSS" /></para>

    <para>The available features are listed under the <emphasis
    role="bold">Permissions</emphasis> tab. You can view and gain access to
    the feature controls from here. However, the feature controls must be
    applied to users, or to groups. If you click on the feature name link, a
    tab opens that displays the users and groups where those feature
    permissions are applied.</para>

    <para>ECL Watch feature permission settings that are not listed are not
    relevant and should not be used.</para>

    <sect3 id="ApplyPermissionsFeatureResource">
      <title>Apply permissions for a feature resource:</title>

      <para>To use the feature permissions, you must apply them to a user or
      group(s). To access the feature permissions click on the <emphasis
      role="bold">Operations</emphasis> icon, then click the <emphasis
      role="bold">Security</emphasis> link from the navigation
      sub-menu.</para>

      <orderedlist>
        <listitem>
          <para>Identify the user(s) or group(s) which you want to modify the
          feature permissions.</para>

          <para>Select the appropriate tab. (Users or Groups)</para>
        </listitem>

        <listitem>
          <para>Check the checkbox(es) next to the user(s) or group(s) to
          modify.</para>
        </listitem>

        <listitem>
          <para>Press the <emphasis role="bold">Open</emphasis> action button.
          A tab for each user or group selected opens.</para>
        </listitem>

        <listitem>
          <para>Click the <emphasis role="bold">Available
          Permissions</emphasis> sub-tab.</para>
        </listitem>

        <listitem>
          <?dbfo keep-together="always"?>

          <para>Click on the arrow to the left of the resource to display the
          features of that resource. <graphic
          fileref="../../images/Perm006b.jpg" vendor="eclwatchSS" /></para>
        </listitem>

        <listitem>
          <para>Locate the feature resource(s) you want to update. <graphic
          fileref="../../images/Perm012.jpg" /></para>
        </listitem>

        <listitem>
          <para>Click the checkbox(es) in the <emphasis
          role="bold">allow</emphasis> and <emphasis
          role="bold">deny</emphasis> columns as appropriate.</para>
        </listitem>

        <listitem>
          <para>The changes are automatically saved. Close the tab(s).</para>

          <para><emphasis role="bold">Note:</emphasis> You must follow this
          process for each user or group(s) separately.</para>
        </listitem>
      </orderedlist>
    </sect3>

    <sect3 id="FeaturePermissions" role="brk">
      <title>SMC Feature Permissions</title>

      <para>The following table describes the level of access required to be
      able to use these HPCC Systems ECL Watch features.</para>

      <para><informaltable>
          <tgroup cols="3">
            <colspec colwidth="145pt" />

            <colspec />

            <colspec colwidth="85pt" />

            <thead>
              <row>
                <entry>Name</entry>

                <entry>Description</entry>

                <entry>Access</entry>
              </row>
            </thead>

            <tbody>
              <row>
                <entry>ClusterTopologyAccess</entry>

                <entry>Access to Cluster Topology</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Access to log files.</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>DfuAccess</entry>

                <entry>Access to DFU Logical Files</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Delete Files, add to superfiles, and remove from
                superfiles</entry>

                <entry>Write</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Erase file history metadata</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>DfuExceptions</entry>

                <entry>Access to DFU Exceptions</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry>DfuWorkunitsAccess</entry>

                <entry>Access to View DFU Workunits</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Access to Create, Delete, Update, Submit, and Abort DFU
                Workunits</entry>

                <entry>Write</entry>
              </row>

              <row>
                <entry>DfuXrefAccess</entry>

                <entry>Access to DFU XREF</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Clean directory</entry>

                <entry>Write</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Make changes and generate XREF Reports</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>EclDirectAccess</entry>

                <entry>Access to ECL direct service.</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>ESDLConfigAccess</entry>

                <entry>ESDL Config Access</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Publish ESDL definition and ESDL binding, configure
                ESDL binding method.</entry>

                <entry>Write</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Delete ESDL definitions, delete ESDL bindings.</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>FileDesprayAccess</entry>

                <entry>Allows a user to despray logical files.</entry>

                <entry>Write</entry>
              </row>

              <row>
                <entry>FileIOAccess</entry>

                <entry>Access to read files in Drop zone</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Access to write to files in Drop zone</entry>

                <entry>Write</entry>
              </row>

              <row>
                <entry>PackageMapAccess</entry>

                <entry>Access to ListPackage, ListPackages, GetPackage,
                GetPackageMapById, ValidatePackage, GetQueryFileMapping,
                GetPackageMapSelectOptions, GetPartFromPackageMap</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Access to AddPackage, CopyPackageMap, ActivatePackage,
                DeActivatePackage, AddPartToPackageMap,
                RemovePartFromPackageMap</entry>

                <entry>Write</entry>
              </row>

              <row>
                <entry></entry>

                <entry>DeletePackage</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>FileScopeAccess</entry>

                <entry>Allows access to query, set, modify, and delete File
                Scope Permissions</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>FileSprayAccess</entry>

                <entry>Access to Spraying and Copying</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Rename, spray, copy, and replicate files</entry>

                <entry>Write</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Download or delete file on a landing zone</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>MachineInfoAccess</entry>

                <entry>Access to machine/Preflight Information</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry>MetricsAccess</entry>

                <entry>Access to SNMP Metrics Information (Roxie
                Metrics)</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry>OthersWorkunitsAccess</entry>

                <entry>Access to View Other User's Workunits</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Access to Modify or Resubmit User's Workunits</entry>

                <entry>Write</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Access to Delete Other User's Workunits</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>OwnWorkunitsAccess</entry>

                <entry>Access to View Own Workunit</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Access to Create or Modify Own Workunit</entry>

                <entry>Write</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Access to Delete Own Workunits</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>RoxieControlAccess</entry>

                <entry>Access to Roxie control commands</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry>SmcAccess</entry>

                <entry>Access to ECL Watch (SMC Service)</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry>ThorQueueAccess</entry>

                <entry>Access to Thor Job Queue Control</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>CodeSignAccess</entry>

                <entry>Access to Code Signing service ListUserIDs</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Sign code</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>WsELKAccess</entry>

                <entry>Access to ELK integration service</entry>

                <entry>Access</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Read the ELK configuration</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry>WsStoreAccess</entry>

                <entry>Access to WsStore service</entry>

                <entry>Access</entry>
              </row>

              <row>
                <entry></entry>

                <entry>List stores, fetch key-value pairs, listkeys,
                listnamespaces</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Set key-value pairs</entry>

                <entry>Write</entry>
              </row>

              <row>
                <entry></entry>

                <entry>Delete keys, delete namespaces, fetch
                keymetadata</entry>

                <entry>Full</entry>
              </row>

              <row>
                <entry>WsEclAccess</entry>

                <entry>Access to WS ECL service</entry>

                <entry>Full</entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable></para>

      <sect4 id="FeaturePermissions_Login">
        <title>Some Feature Permissions Notes</title>

        <itemizedlist>
          <listitem>
            <para>SMCAccess is required to be able to successfully login to
            ECL Watch.</para>
          </listitem>

          <listitem>
            <para>ThorQueueAccess allows you to manipulate the queue by
            promoting/demoting queued workunits according to priority.</para>
          </listitem>

          <listitem>
            <para>ThorQueueAccess also allows you to pause or clear the Thor
            queue. You can also view Thor usage statistics.</para>
          </listitem>

          <listitem>
            <para>Depending on the level of access the user has, they can
            view, modify, and delete their own, or others workunits. This is
            OwnWorkunitsAccess, and OthersWorkunitsAccess respectively.</para>
          </listitem>

          <listitem>
            <para>DfuWorkunitsAccess permissions allow users to view and/or
            manipulate DFU Workunits.</para>
          </listitem>

          <listitem>
            <para>Users need permission to see files on the dropzone and also
            to put files there. They need further permissions to be able to
            spray and copy files from the dropzone to their cluster and also
            to despray files from the cluster back to the dropzone.</para>
          </listitem>

          <listitem>
            <para>The WsStore service uses <emphasis
            role="bold">namespaces</emphasis> (similar to a database in a DBMS
            system), <emphasis role="bold">stores</emphasis> (similar to
            tables in a database), and <emphasis role="bold">key-value
            pairs</emphasis> (similar to fields).</para>
          </listitem>
        </itemizedlist>
      </sect4>

      <sect4 id="FeaturePermissions_DFUFiles">
        <title>DFU Xref</title>

        <para>XREF is used for monitoring files on the cluster(s). Reports
        generated show where housekeeping is required on the cluster(s) and
        users require additional permission to use this feature.</para>

        <informaltable colsep="1" frame="all" rowsep="1">
          <?dbfo keep-together="always"?>

          <tgroup cols="2">
            <colspec colwidth="49.50pt" />

            <colspec />

            <tbody>
              <row>
                <entry><inlinegraphic
                fileref="../../images/tip.jpg" /></entry>

                <entry><para>On a large system, we suggest limiting the number
                of users who can Generate XREF reports by setting
                DfuXrefAccess access to FULL for only those
                users.</para><para> </para></entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </sect4>

      <sect4 id="FeaturePermissions_UserPermissions">
        <title>Users/Permissions</title>

        <para>To be able to view the <emphasis
        role="bold">Users/Permissions</emphasis> area in ECL Watch, a user
        must be a member of the Administrators (or similarly named) group with
        the appropriate permissions on the LDAP or Active Directory
        server.</para>
      </sect4>
    </sect3>
  </sect2>

  <sect2 id="FeaturePermissions_FileAccessControl">
    <title><emphasis role="bold">File Access Control</emphasis></title>

    <para>The HPCC Systems LDAP <emphasis role="bold">Dali Server</emphasis>
    technology provides the ability to set secure access permissions to data
    file folders (or file scopes). This is controlled by the use of file scope
    resources.</para>

    <para>An OU called <emphasis role="bold">Files</emphasis> is automatically
    created when the Dali server starts. To secure data folders, create a file
    scope for that folder and apply rights to each scope.</para>

    <para><figure>
        <title>File Scopes Permissions</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="../../images/Perm006.jpg" vendor="eclwatchSS" />
          </imageobject>
        </mediaobject>
      </figure></para>

    <para>For example, below <emphasis role="bold">Files</emphasis> there is a
    unit (OU) representing the cluster, such as <emphasis
    role="bold">thor</emphasis> (or the name that you set up for your
    cluster). Furthering the example, below that could be a unit named
    <emphasis role="bold">collectionx</emphasis> which contains two units,
    <emphasis role="bold">publicdata</emphasis> and <emphasis
    role="bold">securedata. </emphasis>The <emphasis role="bold">publicdata
    </emphasis>folder has rights granted to a large group of users and the
    <emphasis role="bold">securedata </emphasis>folder has limited access
    granted. This allows you to prevent unauthorized users from any access to
    files in the <emphasis role="bold">securedata</emphasis> folder.</para>

    <para>The structure described above corresponds to this logical
    structure:</para>

    <para><emphasis role="bold">collectionx::securedata </emphasis></para>

    <para>Which corresponds to this physical structure:</para>

    <para><emphasis
    role="bold">/var/lib/HPCCSystems/hpcc-data/thor/collectionx/securedata
    </emphasis></para>

    <para>All HPCC Systems components and tools respect LDAP file access
    security. The following exceptions are assumed to be system level or for
    administrative users:</para>

    <itemizedlist>
      <listitem>
        <para>Network file access using UNCs, Terminal Services, or
        SSH.</para>
      </listitem>

      <listitem>
        <para>Administrative utilities</para>
      </listitem>
    </itemizedlist>

    <para>Attempting to access a file in a folder for which access is not
    granted will result in one of the following errors:</para>

    <programlisting>DFS Exception: 4 Create access denied for scope &lt;filepath&gt;</programlisting>

    <para>or</para>

    <programlisting>DFS Exception: 3 Lookup access denied for scope &lt;filepath&gt;</programlisting>

    <para>(where &lt;filepath&gt; is the full logical file scope path)</para>
  </sect2>

  <sect2 id="Adding_File_Scopes">
    <title>Creating file scopes</title>

    <para>To apply permissions to a file scope, you must first create the file
    scope(s).</para>

    <para>To create file scope(s) click on the <emphasis
    role="bold">Operations</emphasis> icon, then click the <emphasis
    role="bold">Security</emphasis> link from the navigation sub-menu.</para>

    <orderedlist>
      <listitem>
        <para>Click the <emphasis role="bold">Permissions</emphasis>
        tab.</para>

        <para>The feature resources display.</para>
      </listitem>

      <listitem>
        <?dbfo keep-together="always"?>

        <para>Click on the arrow to the left of the <emphasis role="bold">File
        Scopes</emphasis> resource to display the file scopes. <graphic
        fileref="../../images/Perm06-A.jpg" vendor="eclwatchSS" /></para>
      </listitem>

      <listitem>
        <para>Press the <emphasis role="bold">Add</emphasis> button.</para>
      </listitem>

      <listitem>
        <para>Choose <emphasis role="bold">File Scopes</emphasis> from the
        drop list. <graphic fileref="../../images/Perm06-C.jpg"
        vendor="eclwatchSS" /></para>
      </listitem>

      <listitem>
        <para>Enter the exact name of the scope you want to add in the
        <emphasis role="bold">Name</emphasis> field. <graphic
        fileref="../../images/Perm06-B.jpg" vendor="eclwatchSS" /></para>

        <para>Enter a short description in the <emphasis
        role="bold">Description<emphasis> field.</emphasis></emphasis></para>
      </listitem>

      <listitem>
        <para>Press the <emphasis role="bold">Add</emphasis> button.</para>

        <para>The new scope displays in the list.</para>
      </listitem>
    </orderedlist>

    <sect3 id="AddingFileScopes_SettingScopePermissions">
      <title>Setting permissions for file scopes</title>

      <para>You must apply permissions for file scopes to users or group(s).
      If you want to apply the scope to a new group, create the group(s) as
      required.</para>

      <para>To set the file scope permissions click on the <emphasis
      role="bold">Operations</emphasis> icon, then click the <emphasis
      role="bold">Security</emphasis> link from the navigation
      sub-menu.</para>

      <orderedlist>
        <listitem>
          <para>Select the <emphasis role="bold">File Scopes</emphasis>
          tab.</para>
        </listitem>

        <listitem>
          <para>Choose the scope to modify. Click the <emphasis
          role="bold">Permissions</emphasis> link for that scope. <graphic
          fileref="../../images/Perm018.jpg" vendor="eclwatchSS" /></para>
        </listitem>

        <listitem>
          <para>The permissions defined for users and groups for that scope
          display. <graphic fileref="../../images/Perm019.jpg"
          vendor="eclwatchSS" /></para>
        </listitem>

        <listitem>
          <para>Check (or clear) the checkbox(es) in the <emphasis
          role="bold">allow</emphasis> and <emphasis
          role="bold">deny</emphasis> columns as appropriate for the users or
          groups displayed.</para>
        </listitem>

        <listitem>
          <para>To add users or groups to the scope, press the <emphasis
          role="bold">Add</emphasis> button.</para>

          <para>The Add Permission dialog displays.</para>
        </listitem>

        <listitem>
          <para>Select the user or the group to add from the drop list(s).
          <graphic fileref="../../images/Perm020.jpg"
          vendor="eclwatchSS" /></para>

          <para>Once a user or group is selected, the Add button and the allow
          and deny checkboxes are active</para>
        </listitem>

        <listitem>
          <para>Check the boxes for allow and deny as appropriate to set the
          permissions for this scope. <graphic
          fileref="../../images/Perm021.jpg" vendor="eclwatchSS" /></para>
        </listitem>

        <listitem>
          <para>Press the <emphasis role="bold">Add</emphasis> button.</para>
        </listitem>

        <listitem>
          <para>The changes are automatically saved. Close the tab(s).</para>
        </listitem>
      </orderedlist>
    </sect3>

    <sect3 id="Security_FileScopeFeatures">
      <title>File scope features</title>

      <para>Below the List of File Scopes, there are buttons that allow you
      to:</para>

      <itemizedlist>
        <listitem>
          <para>Reset <emphasis role="bold">Default Permissions</emphasis> to
          selected file(s)</para>

          <para>This allows you to quickly remove any added permission
          settings for a file and reset to the default access.</para>
        </listitem>

        <listitem>
          <para>Allow or Deny Access to physical files on Landing Zone</para>

          <para>This provides a way to grant or deny access to the top level
          file scope. By default, only administrators have access to this
          scope.</para>
        </listitem>

        <listitem>
          <para>Check File Permissions for a user or group</para>

          <para>This provides a way to check a user or group's access to a
          logical file.</para>

          <para><graphic fileref="../../images/Perm030.jpg"
          vendor="eclwatchSS" /></para>
        </listitem>

        <listitem>
          <para>Clear the Permissions Cache</para>

          <para>This clears the permissions cache and allowing any new
          permission settings to take effect immediately.</para>
        </listitem>

        <listitem>
          <para>Enable/Disable Scope Scans</para>

          <para>This provides a means to enable or disable Scope scans. Enable
          scope scans to check permissions for users to access scopes. This
          will impact performance. Disable scope scans ignores any scope
          permissions and removes all access control, but improves
          performance. Disabling access control is not recommended.</para>

          <para>Changing this setting through ECL Watch, as described here, is
          only a temporary override. When Dali restarts this setting will
          revert to what is defined in the configuration
          environment.xml.</para>
        </listitem>
      </itemizedlist>

      <para><graphic fileref="../../images/Perm031.jpg"
      vendor="eclwatchSS" /></para>
    </sect3>
  </sect2>

  <sect2 id="Security_WorkunitAccessControl">
    <title>Workunit Access Control</title>

    <para>There are 2 aspects of workunit (WU) security:</para>

    <itemizedlist>
      <listitem>
        <para>Feature Authentication for workunits allows you to set
        permissions to control whether users can view their own WUs and/or
        other users' WUs.</para>
      </listitem>

      <listitem>
        <para>Workunit Scope security provides the ability to set permissions
        for individual WU scopes. All new workunits have a scope value.</para>
      </listitem>
    </itemizedlist>

    <para>Both methods are valid to use (either separately or together), and
    the strictest restriction always applys.</para>

    <para>In other words, if someone is granted permission to see WUs in the
    scope <emphasis>johndoe </emphasis>but is denied permission to see other
    users' WUs in the Feature Authentication permissions, this user would be
    denied access to see the WUs in the<emphasis> johndoe</emphasis>
    scope.</para>

    <para>Conversely, if the user is allowed access to see other people's WUs
    but is denied access to the <emphasis>johndoe </emphasis>WU<emphasis>
    </emphasis>scope, this user will be able to see other WUs in that
    scope.</para>

    <para><emphasis role="bold">Note:</emphasis> If you do not have access to
    a WU, you will never be able to view it or even know of its
    existence.</para>

    <para>By default, a submitted WU has a scope of the user's ID. For
    example, a WU JohnDoe submits has <emphasis>scope=johndoe</emphasis> in
    the WU. This value in a WU allows ESP and its services to use LDAP to
    check for permissions and enforce those permissions.</para>

    <para>You can override the default scope using ECL Code:</para>

    <para><programlisting>#workunit('scope','MyScopeValue');</programlisting></para>

    <sect3 id="Securing_Workunit_Scopes">
      <title>Securing workunit scopes</title>

      <para>ESP (on startup) automatically creates an LDAP OU called <emphasis
      role="bold">Workunits</emphasis> (unless it already exists). If this OU
      is automatically created, the OU is made with full permissions granted
      to all authenticated users. All WU scopes are below the
      <emphasis>workunits</emphasis> OU either implicitly or
      explicitly.</para>

      <para>If a specific scope OU does not exist in LDAP (e.g., the scope
      johndoe used in earlier example), then the parent OU's permissions are
      used. In other words, the scope of <emphasis>johndoe</emphasis> is
      implicitly under the <emphasis>workunits</emphasis> OU even though it
      might not be explicitly listed in the LDAP structure and therefore it
      would use the permissions granted for the parent, <emphasis>workunits
      .</emphasis></para>
    </sect3>

    <sect3 id="Workunits_Feature_Permissions">
      <title>Workunits feature permissions</title>

      <para>Using the <emphasis role="bold">Workunit Scopes</emphasis> feature
      in the <emphasis role="bold">Permissions</emphasis> area of ECL Watch
      the permissions for any scope can be reset to the default permissions
      settings for your system. Permission settings for Workunit Scopes may be
      set as follows:<informaltable>
          <tgroup cols="2">
            <thead>
              <row>
                <entry>Description</entry>

                <entry>Access</entry>
              </row>
            </thead>

            <tbody>
              <row>
                <entry>View WUs in that scope</entry>

                <entry>Read</entry>
              </row>

              <row>
                <entry>Create/modify a WU in that scope</entry>

                <entry>Write</entry>
              </row>

              <row>
                <entry>Delete a WU in that scope</entry>

                <entry>Full</entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable></para>
    </sect3>
  </sect2>

  <sect2 id="Adding_WorkUnit_Scopes">
    <title>Adding workunit scopes</title>

    <para>To add workunit scope permissions click on the <emphasis
    role="bold">Operations</emphasis> icon, then click the <emphasis
    role="bold">Security</emphasis> link from the navigation sub-menu.</para>

    <orderedlist>
      <listitem>
        <para>Click the <emphasis role="bold">Permissions</emphasis>
        tab.</para>

        <para>The feature resources display.</para>
      </listitem>

      <listitem>
        <?dbfo keep-together="always"?>

        <para>Click on the arrow to the left of the <emphasis
        role="bold">Workunit Scopes</emphasis> resource to display the file
        scopes. <graphic fileref="../../images/Perm06W.jpg"
        vendor="eclwatchSS" /></para>
      </listitem>

      <listitem>
        <para>Press the <emphasis role="bold">Add</emphasis> button.</para>
      </listitem>

      <listitem>
        <para>Choose <emphasis role="bold">Workunit Scopes</emphasis> from the
        drop list. <graphic fileref="../../images/Perm006-W.jpg"
        vendor="eclwatchSS" /></para>
      </listitem>

      <listitem>
        <para>Enter the exact name of the scope you want to add in the
        <emphasis role="bold">Name</emphasis> field. <graphic
        fileref="../../images/PermW04.jpg" vendor="eclwatchSS" /></para>

        <para>Enter a short description in the <emphasis
        role="bold">Description<emphasis> field.</emphasis></emphasis></para>
      </listitem>

      <listitem>
        <para>Press the <emphasis role="bold">Add</emphasis> button.</para>

        <para>The new scope displays in the list.</para>
      </listitem>
    </orderedlist>

    <sect3 id="UsingSecurity_SetScopePermissions">
      <title>Set permissions to the scope.</title>

      <para>You apply the workunit scopes to a group. If you want to apply the
      scope to a new group, create the group(s) as required.</para>

      <orderedlist>
        <listitem>
          <para>Go to the <emphasis role="bold">Groups</emphasis> tab.</para>
        </listitem>

        <listitem>
          <para>Select a group to apply the scope to by checking the box next
          to the group name.</para>

          <para>Press the <emphasis role="bold">Open</emphasis> action button.
          You can select multiple groups, a tab opens for each group.</para>
        </listitem>

        <listitem>
          <para>Select the <emphasis role="bold">Group Permissions</emphasis>
          tab of that group. (if multiple groups selected, you must repeat for
          each group)</para>
        </listitem>

        <listitem>
          <para>Click on the arrow to the left of the Workunit Scopes to
          display the available scopes.<graphic
          fileref="../../images/PermW05.jpg" vendor="eclwatchSS" /></para>

          <para>The Workunit scopes display. Check the boxes as appropriate to
          set the permissions for this scope.</para>
        </listitem>

        <listitem>
          <para>To set permissions in this scope for another group, open and
          go to that groups tab.</para>
        </listitem>

        <listitem>
          <para>To set permissions in this scope for a user, select the
          tab.</para>
        </listitem>

        <listitem>
          <para>Select the user and press the Edit action button.</para>

          <para>A new tab for that user opens.</para>
        </listitem>

        <listitem>
          <para>On that tab, click on the <emphasis role="bold">User
          Permissions</emphasis> sub-tab.</para>
        </listitem>

        <listitem>
          <para>Locate the new scope listed under the appropriate
          Resource.</para>

          <para>Set the access permissions as appropriate for that
          user.</para>
        </listitem>

        <listitem>
          <para>The changes are automatically saved. Close the tab(s).</para>
        </listitem>
      </orderedlist>
    </sect3>
  </sect2>

  <sect2 id="permissions_cache" role="brk">
    <title>Permission Caching</title>

    <para>A helpful feature found on the Permissions tab is the
    <emphasis>Clear Permissions Cache</emphasis> button. The <emphasis>Clear
    Permissions Cache</emphasis> button clears the cached permissions from
    Dali and ESP.</para>

    <para>When you change a permission in ECL Watch, the settings are cached
    in the ESP server and stored in the Dali server. The information in the
    cache is updated at a configurable interval. This value can be set in the
    Configuration Manager under the <emphasis>LDAP Server settings
    Attributes</emphasis> tab. The default cacheTimeout is 5 minutes.</para>

    <para><graphic fileref="../../images/Perm002.jpg"
    vendor="eclwatchSS" />The Permissions Cache can be cleared from anywhere
    on the permissions tab in ECL Watch.</para>

    <para>When you want a permission change to take effect immediately, you
    can clear the cache and force Dali to update the permission settings by
    pressing the <emphasis role="bold">Clear Permissions Cache</emphasis>
    button. This action transfers the settings when you press the button. Use
    this feature judiciously as overall system performance is affected
    temporarily while the LDAP settings in the Dali System Data Store
    repopulate.</para>
  </sect2>

  <sect2 id="Advanced_Permissions" role="brk">
    <title>Advanced Permissions</title>

    <para>On the Permissions tab is the <emphasis
    role="bold">Advanced</emphasis> (Permissions) button. The Advanced
    menu/button provides access to manage file and workunit scope security.
    The Advanced button is only enabled when you select either File or
    Workunit Scopes on the Permissions tab.</para>

    <para><graphic fileref="../../images/Perm022.jpg"
    vendor="eclwatchSS" /></para>

    <para>Press the Advanced button to display the Advanced permissions menu.
    The Advanced menu is context aware, so if you select File Scopes from the
    Permissions tab, then you can only choose to apply the relevant file scope
    permissions, likewise if you selected workunits scopes.</para>

    <para><emphasis role="bold">File Scans</emphasis></para>

    <para>Using the Advanced Menu with File Scopes selected:</para>

    <itemizedlist>
      <listitem>
        <para>Enable or disable file scope security</para>
      </listitem>

      <listitem>
        <para>Access the file scope default permission page</para>
      </listitem>

      <listitem>
        <para>Access the Physical Files permission page. The Physical Files
        settings specify the default permissions for files that do not have a
        scope explicitly specified.</para>
      </listitem>

      <listitem>
        <para>Check the file permissions - This option opens a dialog where
        you can input a File name and select Users and Groups for the File
        security scope.</para>
      </listitem>
    </itemizedlist>

    <para><graphic fileref="../../images/Perm023.jpg"
    vendor="eclwatchSS" /></para>

    <para><emphasis role="bold">Workunit scans</emphasis></para>

    <para>Using the Advanced Menu with the Workunit Scopes selected opens only
    the Default Permissions tab for the Workunit Scope (Default)
    Permissions.</para>

    <para><emphasis role="bold">NOTE:</emphasis> File or Workunit Scope
    security needs to be enabled in your system configuration in order to use
    File or Workunit Scope security on your system.</para>

    <!-- /*Note: Maybe include the doc or steps for configuring your system to use File or Workunit scope security */
-->
  </sect2>
</sect1>
