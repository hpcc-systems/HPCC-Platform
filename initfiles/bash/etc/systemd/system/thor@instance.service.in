[Unit]
Description=@description@
After=network.target remote-fs.target @dependencies@ thor-conf@%i.service
Requires=thor-conf@%i.service

[Service]
Type=forking
User=@RUNTIME_USER@
Group=@RUNTIME_GROUP@
PermissionsStartOnly=true
WorkingDirectory=@RUNTIME_PATH@/%i
PIDFile=@PID_PATH@/%i.pid
EnvironmentFile=@RUNTIME_PATH@/%i/%i.cfg
ExecStartPre=@ADMIN_PATH@/thorslaves-launch.sh -c %i start
ExecStart=@EXEC_PATH@/@processName@ @processArgs@
ExecStopPost=@ADMIN_PATH@/thorslaves-launch.sh -c %i stop
Restart=on-failure
RestartSec=5
TimeoutSec=30

[Install]
WantedBy=default.target
DefaultInstance=my@component@
