import{_ as a,a as l,o as t,ag as o}from"./chunks/framework.Do1Zayaf.js";const m=JSON.parse('{"title":"HPCC Local (host) storage","description":"","frontmatter":{},"headers":[],"relativePath":"helm/examples/local/hpcc-localfile/README.md","filePath":"helm/examples/local/hpcc-localfile/README.md","lastUpdated":1771585025000}'),s={name:"helm/examples/local/hpcc-localfile/README.md"};function c(i,e,r,h,n,d){return t(),l("div",null,e[0]||(e[0]=[o(`<h1 id="hpcc-local-host-storage" tabindex="-1">HPCC Local (host) storage <a class="header-anchor" href="#hpcc-local-host-storage" aria-label="Permalink to &quot;HPCC Local (host) storage&quot;">​</a></h1><h2 id="directory-contents" tabindex="-1">Directory contents <a class="header-anchor" href="#directory-contents" aria-label="Permalink to &quot;Directory contents&quot;">​</a></h2><h3 id="hpcc-localfile" tabindex="-1">hpcc-localfile/ <a class="header-anchor" href="#hpcc-localfile" aria-label="Permalink to &quot;hpcc-localfile/&quot;">​</a></h3><p>The hpcc systems hpcc-localfile helm chart will provision a new Persistent Volume and a Persistent Volume Claim for each of the required HPCC storage types. Once installed the generated PVC names should be used when installing the HPCC helm chart. The values-localfile.yaml is an example of the HPCC storage settings that should be applied, after the &quot;localfile&quot; helm chart is installed. Note: The output of installing this chart, will contain a generated example with the correct PVC names.</p><p>The chart assumes that the dalistorage, queries, sasha, and hpcc-data subdirectories already exist.</p><p>Examples of use:</p><h4 id="docker-desktop-using-wsl2-to-access-windows-data" tabindex="-1">Docker desktop (using wsl2 to access windows data): <a class="header-anchor" href="#docker-desktop-using-wsl2-to-access-windows-data" aria-label="Permalink to &quot;Docker desktop (using wsl2 to access windows data):&quot;">​</a></h4><p>With a host directory of c:\\hpccdata</p><pre><code>helm install localfile examples/local/hpcc-localfile --set common.hostpath=/run/desktop/mnt/host/c/hpccdata
helm install mycluster hpcc/ --set global.image.version=latest -f examples/local/values-localfile.yaml
</code></pre><p>Note for the above example &#39;localfile&#39; is the arbitrary instance name, it could be named anything, but &quot;localfile&quot; will match the delivered examples values-localfile.yaml file.</p><h4 id="docker-desktop-using-osx" tabindex="-1">Docker desktop (using osx): <a class="header-anchor" href="#docker-desktop-using-osx" aria-label="Permalink to &quot;Docker desktop (using osx):&quot;">​</a></h4><p>With a host directory of /Users/myuser/hpccdata</p><pre><code>helm install localfile examples/local/hpcc-localfile --set common.hostpath=/Users/myuser/hpccdata
helm install mycluster hpcc/ --set global.image.version=latest -f examples/local/values-localfile.yaml
</code></pre><h4 id="docker-desktop-using-hyper-v" tabindex="-1">Docker desktop (using hyper-v): <a class="header-anchor" href="#docker-desktop-using-hyper-v" aria-label="Permalink to &quot;Docker desktop (using hyper-v):&quot;">​</a></h4><p>With a host directory of c:\\hpccdata<br> In addition, you must add the folder in Docker Desktop&#39;s settings for Resources&gt;File Sharing.</p><pre><code>helm install localfile examples/local/hpcc-localfile --set common.hostpath=/c/hpccdata
helm install mycluster hpcc/ --set global.image.version=latest -f examples/local/values-localfile.yaml
</code></pre><h4 id="minikube" tabindex="-1">Minikube: <a class="header-anchor" href="#minikube" aria-label="Permalink to &quot;Minikube:&quot;">​</a></h4><p>With a host directory of /home/myuser/hpccdata When running under minikube the directory will need to be mounted with a command</p><pre><code>minikube mount &lt;host-directory&gt;:&lt;minikube-host-directory&gt; --gid=1000 --uid=999
</code></pre><p>which needs to remain running while the cluster is active. The --gid and --uid options are required to ensure that the hpcc user has access to the data from within the container.</p><p>The following examples mounts it to /mnt/hpccdata within minikube to help distinguish the different directories.</p><pre><code>minikube mount /home/myuser/hpccdata:/mnt/hpccdata --gid=1000 --uid=999

helm install localfile examples/local/hpcc-localfile --set common.hostpath=/mnt/hpccdata
helm install mycluster hpcc/ --set global.image.version=latest -f examples/local/values-localfile.yaml
</code></pre><h3 id="values-localfile-yaml" tabindex="-1">values-localfile.yaml <a class="header-anchor" href="#values-localfile-yaml" aria-label="Permalink to &quot;values-localfile.yaml&quot;">​</a></h3><p>An example value file to be supplied when installing the HPCC chart. NB: Either use the output auto-generated when installing the &quot;hpcc-localfile&quot; helm chart, or ensure the names in your values files for the storage types matched the PVC names created.</p>`,24)]))}const u=a(s,[["render",c]]);export{m as __pageData,u as default};
