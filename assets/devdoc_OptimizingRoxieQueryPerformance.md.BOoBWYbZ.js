import{_ as e,a as s,o as a,ag as t}from"./chunks/framework.Do1Zayaf.js";const c=JSON.parse('{"title":"Optimizing Roxie Query Performance","description":"","frontmatter":{},"headers":[],"relativePath":"devdoc/OptimizingRoxieQueryPerformance.md","filePath":"devdoc/OptimizingRoxieQueryPerformance.md","lastUpdated":1771585025000}'),n={name:"devdoc/OptimizingRoxieQueryPerformance.md"};function o(r,i,l,h,p,d){return a(),s("div",null,i[0]||(i[0]=[t(`<h1 id="optimizing-roxie-query-performance" tabindex="-1">Optimizing Roxie Query Performance <a class="header-anchor" href="#optimizing-roxie-query-performance" aria-label="Permalink to &quot;Optimizing Roxie Query Performance&quot;">​</a></h1><p>Roxie provides robust functionality to stabilize performance and reduce variability in query response times, particularly when optimizations are applied behind the scenes. This guide explains how to configure and monitor Roxie for consistent query execution.</p><h2 id="setting-a-minimum-query-execution-time" tabindex="-1">Setting a Minimum Query Execution Time <a class="header-anchor" href="#setting-a-minimum-query-execution-time" aria-label="Permalink to &quot;Setting a Minimum Query Execution Time&quot;">​</a></h2><p>To ensure consistent response times, you can define a <strong>minimum query execution time</strong> (in milliseconds) in the Roxie engine&#39;s configuration. This setting can also be overridden for specific queries as needed.</p><h3 id="configuration-options" tabindex="-1">Configuration Options <a class="header-anchor" href="#configuration-options" aria-label="Permalink to &quot;Configuration Options&quot;">​</a></h3><p>The following settings can be used to define minimum execution times for different priority levels:</p><ul><li><code>defaultLowPriorityTimeMinimum</code></li><li><code>defaultHighPriorityTimeMinimum</code></li><li><code>defaultSLAPriorityTimeMinimum</code></li></ul><h3 id="implementation-methods" tabindex="-1">Implementation Methods <a class="header-anchor" href="#implementation-methods" aria-label="Permalink to &quot;Implementation Methods&quot;">​</a></h3><h4 id="for-bare-metal-systems" tabindex="-1">For Bare-Metal Systems <a class="header-anchor" href="#for-bare-metal-systems" aria-label="Permalink to &quot;For Bare-Metal Systems&quot;">​</a></h4><p>Modify the Roxie Topology section in <code>environment.xml</code> using the Configuration Manager tool to set the desired values.</p><h4 id="for-containerized-systems" tabindex="-1">For Containerized Systems <a class="header-anchor" href="#for-containerized-systems" aria-label="Permalink to &quot;For Containerized Systems&quot;">​</a></h4><p>Include the settings in an override YAML file for the Roxie cluster. This approach is ideal for containerized deployments.</p><h4 id="in-ecl-code" tabindex="-1">In ECL Code <a class="header-anchor" href="#in-ecl-code" aria-label="Permalink to &quot;In ECL Code&quot;">​</a></h4><p>Specify the minimum execution time directly in your ECL code using the <code>#OPTION</code> directive:</p><div class="language-ecl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ecl</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#OPTION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;minTimeLimit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Sets minimum execution time to 500 milliseconds (0.5 seconds)</span></span></code></pre></div><h4 id="in-the-request-url" tabindex="-1">In the Request URL <a class="header-anchor" href="#in-the-request-url" aria-label="Permalink to &quot;In the Request URL&quot;">​</a></h4><p>Add the minimum time limit as a parameter in the request:</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">soap:Envelope</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">soap:Body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">exampleRequest</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xmlns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;urn:hpccsystems:ecl:example&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">_MinTimeLimit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;500&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">_MinTimeLimit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      &lt;!-- Sets minimum execution time to 500 milliseconds (0.5 seconds) --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">acctno</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;1111111&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">acctno</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">exampleRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">soap:Body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">soap:Envelope</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="monitoring-performance" tabindex="-1">Monitoring Performance <a class="header-anchor" href="#monitoring-performance" aria-label="Permalink to &quot;Monitoring Performance&quot;">​</a></h2><p>When the minimum query execution time feature is enabled, Roxie provides two key timing metrics to help monitor performance:</p><ul><li><strong>TimeDelayed</strong>: The artificial delay added to meet the minimum execution time.</li><li><strong>TimeExecuted</strong>: The actual execution time of the query, excluding any added delay.</li></ul><p>If a query completes faster than the specified minimum time, Roxie will pause execution until the threshold is met, ensuring consistent response times.</p><hr><p>By leveraging these configuration options and monitoring tools, you can optimize Roxie query performance and maintain predictable response times across your system.</p>`,24)]))}const k=e(n,[["render",o]]);export{c as __pageData,k as default};
