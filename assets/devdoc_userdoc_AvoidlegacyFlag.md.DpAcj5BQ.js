import{_ as a,a as o,o as t,ag as i}from"./chunks/framework.Do1Zayaf.js";const g=JSON.parse('{"title":"Why You Should Avoid Using the -legacy Compiler Option","description":"","frontmatter":{},"headers":[],"relativePath":"devdoc/userdoc/AvoidlegacyFlag.md","filePath":"devdoc/userdoc/AvoidlegacyFlag.md","lastUpdated":1761843274000}'),s={name:"devdoc/userdoc/AvoidlegacyFlag.md"};function r(n,e,l,c,d,h){return t(),o("div",null,e[0]||(e[0]=[i(`<h1 id="why-you-should-avoid-using-the-legacy-compiler-option" tabindex="-1">Why You Should Avoid Using the -legacy Compiler Option <a class="header-anchor" href="#why-you-should-avoid-using-the-legacy-compiler-option" aria-label="Permalink to &quot;Why You Should Avoid Using the -legacy Compiler Option&quot;">​</a></h1><h2 id="overview-of-the-legacy-flag" tabindex="-1">Overview of the -legacy Flag <a class="header-anchor" href="#overview-of-the-legacy-flag" aria-label="Permalink to &quot;Overview of the -legacy Flag&quot;">​</a></h2><p>The <strong>-legacy</strong> flag was provided as a short-term solution to give you a chance to modify your code for the new semantics. It was always intended to be a temporary solution -- in fact, it was marked as deprecated when it was introduced.</p><p>The updated <strong>IMPORT</strong> rules are more robust and predictable. They prevent namespace collisions and align with current best practices. The updated <strong>WHEN</strong> behavior provides deterministic scoping, order independence, and improved optimization.</p><p>Aligning with current standards helps teams collaborate more effectively and reduces onboarding friction for new developers.</p><h2 id="reasoning-for-avoiding-the-legacy-flag" tabindex="-1">Reasoning for Avoiding the -legacy Flag <a class="header-anchor" href="#reasoning-for-avoiding-the-legacy-flag" aria-label="Permalink to &quot;Reasoning for Avoiding the -legacy Flag&quot;">​</a></h2><p>The legacy flag creates several issues:</p><ol><li><strong>Symbol Conflicts</strong>: Can create symbol conflicts in your code when you upgrade the platform.</li><li><strong>Syntax Check Failures</strong>: Can cause valid syntax to fail syntax checks.</li><li><strong>Performance Impact</strong>: Compiles may take longer if unrelated code matches by name.</li></ol><h2 id="understanding-the-compiler-options" tabindex="-1">Understanding the Compiler Options <a class="header-anchor" href="#understanding-the-compiler-options" aria-label="Permalink to &quot;Understanding the Compiler Options&quot;">​</a></h2><p>The compiler options were added to allow you to keep two legacy behaviors that changed: <strong>IMPORT</strong> and <strong>WHEN</strong>.</p><p>The eclcc options work as follows:</p><ul><li><strong>-legacyimport</strong>: Forces the old IMPORT behavior</li><li><strong>-legacywhen</strong>: Forces the old WHEN behavior</li><li><strong>-legacy</strong>: Allows both legacy behaviors</li></ul><p>We suspect that <strong>-legacy</strong> is the most commonly used option.</p><p>For a more granular approach, you can use:</p><div class="language-ecl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ecl</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//#IMPORT(LEGACY)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//or</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//WHEN(LEGACY)</span></span></code></pre></div><p>For more details see: <a href="https://hpccsystems.atlassian.net/browse/HPCC-16620" target="_blank" rel="noreferrer">Jira Issue about legacy import semantics</a></p><h2 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h2><p>We recommend migrating away from the <strong>-legacy</strong> flag and updating your code to use the new semantics. This approach ensures compatibility with future platform releases, improves code maintainability, allows performance optimizations, and aligns with current ECL best practices.</p>`,18)]))}const u=a(s,[["render",r]]);export{g as __pageData,u as default};
