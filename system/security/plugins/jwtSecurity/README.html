<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HPCC Platform</title>
    <meta name="description" content="The HPCC-Platform from hpccsystems is an open source system for big data analysis. It uses a single language, platform and architecture to process data efficiently and fast.">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/HPCC-Platform/assets/style.DC-OUqe1.css" as="style">
    <link rel="preload stylesheet" href="/HPCC-Platform/vp-icons.css" as="style">
    
    <script type="module" src="/HPCC-Platform/assets/app.CSuPpIxx.js"></script>
    <link rel="preload" href="/HPCC-Platform/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/HPCC-Platform/assets/chunks/theme.DEsBBDB7.js">
    <link rel="modulepreload" href="/HPCC-Platform/assets/chunks/framework.Do1Zayaf.js">
    <link rel="modulepreload" href="/HPCC-Platform/assets/system_security_plugins_jwtSecurity_README.md.BCcvJktv.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/HPCC-Platform/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>HPCC Platform</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/HPCC-Platform/devdoc/README.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Getting Started</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://hpccsystems.com" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>hpccsystems.com</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://hpccsystems.com/download/release-notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Changelog</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hpcc-systems/HPCC-Platform" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/company/hpcc-systems/home" aria-label="linkedin" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-linkedin"></span></a><a class="VPSocialLink no-icon" href="https://twitter.com/hpccsystems" aria-label="twitter" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-twitter"></span></a><a class="VPSocialLink no-icon" href="https://www.facebook.com/hpccsystems" aria-label="facebook" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-facebook"></span></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/user/HPCCSystems" aria-label="youtube" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-youtube"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hpcc-systems/HPCC-Platform" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/company/hpcc-systems/home" aria-label="linkedin" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-linkedin"></span></a><a class="VPSocialLink no-icon" href="https://twitter.com/hpccsystems" aria-label="twitter" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-twitter"></span></a><a class="VPSocialLink no-icon" href="https://www.facebook.com/hpccsystems" aria-label="facebook" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-facebook"></span></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/user/HPCCSystems" aria-label="youtube" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-youtube"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>General</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/README.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/Development.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Development Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/StyleGuide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>C++ Style Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/ecllibrary/StyleGuide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>ECL Style Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/CodeSubmissions.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Code Submission Guidelines</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/CodeReviews.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Code Review Guidelines</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/DevDocs.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Writing Developer Documentation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/userdoc/README.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>User Guides</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/UserBuildAssets.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Build on Github Actions</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Other</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/Workunits.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Workunit Workflow</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/CodeGenerator.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Code Generator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/roxie.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Roxie</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/MemoryManager.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Memory Manager</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/Metrics.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Metrics</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/DevTestWithLDAP.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Development Testing With LDAP</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _HPCC-Platform_system_security_plugins_jwtSecurity_README" data-v-e6f2a212><div><h2 id="jwt-authorization-security-manager-plugin" tabindex="-1">JWT Authorization Security Manager Plugin <a class="header-anchor" href="#jwt-authorization-security-manager-plugin" aria-label="Permalink to &quot;JWT Authorization Security Manager Plugin&quot;">​</a></h2><p>The purpose of this plugin is to provide authentication and authorization capabilities for HPCC Systems users, with the credentials passed via valid JWT tokens.</p><p>The intention is to adhere as closely as possibly to the OpenID Connect (OIC) specification, which is a simple identity layer on top of the OAuth 2.0 protocol, while maintaining compatibility with the way HPCC Systems performs authentication and authorization today. More information about the OpenID Connect specification can be found at <a href="https://openid.net/specs/openid-connect-core-1_0.html" target="_blank" rel="noreferrer">https://openid.net/specs/openid-connect-core-1_0.html</a>.</p><p>One of the big advantages of OAuth 2.0 and OIC is that the service (in this case, HPCC Systems) never interacts with the user directly. Instead, authentication is performed by a trusted third party and the (successful) results are passed to the service in the form of a verifiable encoded token.</p><p>Unfortunately, HPCC Systems does not support the concept of third-party verification. It assumes that users -- really, any client application that operates as a user, including things like IDEs -- will submit username/password credentials for authentication. Until that is changed, HPCC Systems won&#39;t be able to fully adhere to the OIC specification.</p><p>We can, however, implement <em>most</em> of the specification. That is what this plugin does.</p><p>NOTE: This plugin is not available in a Windows build.</p><h3 id="code-documentation" tabindex="-1">Code Documentation <a class="header-anchor" href="#code-documentation" aria-label="Permalink to &quot;Code Documentation&quot;">​</a></h3><p>Doxygen (<a href="https://www.doxygen.nl/index.html" target="_blank" rel="noreferrer">https://www.doxygen.nl/index.html</a>) can be used to create nice HTML documentation for the code. Call/caller graphs are also generated for functions if you have dot (<a href="https://www.graphviz.org/download/" target="_blank" rel="noreferrer">https://www.graphviz.org/download/</a>) installed and available on your path.</p><p>Assuming <code>doxygen</code> is on your path, you can build the documentation via:</p><pre><code>cd system/security/plugins/jwtSecurity
doxygen Doxyfile
</code></pre><p>The documentation can then be accessed via <code>docs/html/index.html</code>.</p><h3 id="theory-of-operations" tabindex="-1">Theory of Operations <a class="header-anchor" href="#theory-of-operations" aria-label="Permalink to &quot;Theory of Operations&quot;">​</a></h3><p>The plugin is called by the HPCC Systems <code>esp</code> process when a user needs to be authenticated. That call will contain the user&#39;s username and either a reference to a session token or a password. The session token is present only for already-authenticated users.</p><p>If the session token is not present, the plugin will call a <code>JWT login service</code> (also known as a JWT login endpoint) with the username and password, plus a nonce value for additional security.</p><p>That service authenticates the username/password credentials. If everything is good, the service constructs an OIC-compatible token that includes authorization information for that user and returns it to the plugin. The token is validated according to the OIC specification, including signature verification.</p><p>Note that token signature verification requires an additional piece of information. Tokens can be signed with a hash-based algorithm or with a public key-based algorithm (the actual algorithm used is determined by the JWT service). To verify either kind of algorithm, the plugin will need either the secret hash key or the public key that matches what the JWT service used. That key is read by the plugin from a file, and the file is determined by a configuration setting (see below). It is possible to change the contents of that file without restarting the esp process. Note, though, that the plugin may not notice that the file&#39;s contents have changed for several seconds (changes do not <strong>immediately</strong> take effect).</p><p>HPCC Systems uses a well-defined authorization scheme, originally designed around an LDAP implementation. That scheme is represented within the token as JWT claims. This plugin will unpack those claims and map to the authorization checks already in place within the HPCC Systems platform.</p><p>OIC includes the concept of refresh tokens. Refresh tokens enable a service to re-authorize an existing token without user intervention. Re-authorization typically happens due to a token expiring. Tokens should have a relatively short lifetime -- e.g. 15-30 minutes -- to promote good security and also give administrators the ability to modify a user&#39;s authorization while the user is logged in. This plugin fully supports refresh tokens by validating token lifetime at every authorization check and calling a <code>JWT refresh service</code> (also known as a JWT refresh endpoint) when needed. This largely follows the OIC specification.</p><h3 id="deviations-from-oic-specification" tabindex="-1">Deviations From OIC Specification <a class="header-anchor" href="#deviations-from-oic-specification" aria-label="Permalink to &quot;Deviations From OIC Specification&quot;">​</a></h3><ul><li>Initial authentication: As stated above, the <code>esp</code> process will gather the username/password credentials instead of a third party, then send those credentials off to another service. In a true OIC configuration, the client process (the <code>esp</code> process) never sees user credentials and relies on an external service to gather them from the user.</li><li>The request made to the <code>JWT login service</code> is a POST HTTP or HTTPS call (depending on your configuration) containing four items in JSON format; example:</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>	{</span></span>
<span class="line"><span>		&quot;username&quot;: &quot;my_username&quot;,</span></span>
<span class="line"><span>		&quot;password&quot;: &quot;my_password&quot;,</span></span>
<span class="line"><span>		&quot;client_id&quot;: &quot;https://myhpcccluster.com&quot;,</span></span>
<span class="line"><span>		&quot;nonce&quot;: &quot;hf674DTRMd4Z1s&quot;</span></span>
<span class="line"><span>	}</span></span></code></pre></div><ul><li>The <code>JWT login service</code> should reply with an OIC-compatible JSON-formatted reply. See <a href="https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse" target="_blank" rel="noreferrer">https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse</a> for an example of a successful authentication and <a href="https://openid.net/specs/openid-connect-core-1_0.html#TokenErrorResponse" target="_blank" rel="noreferrer">https://openid.net/specs/openid-connect-core-1_0.html#TokenErrorResponse</a> for an example of an error response. The token itself is comprised of several attributes, followed by HPCC Systems-specific claims; see <a href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken" target="_blank" rel="noreferrer">https://openid.net/specs/openid-connect-core-1_0.html#IDToken</a> (all required fields are indeed required, plus the nonce field). <ul><li>Note that for success replies, the <code>access_token</code> and <code>expires_in</code> values are ignored by this plugin.</li></ul></li><li>If the token expires, the plugin will call the <code>JWT refresh service</code> to request a new token. This follows <a href="https://openid.net/specs/openid-connect-core-1_0.html#RefreshTokens" target="_blank" rel="noreferrer">https://openid.net/specs/openid-connect-core-1_0.html#RefreshTokens</a> except that the <code>client_secret</code> and <code>scope</code> fields in the request are omitted.</li></ul><h3 id="implications-of-deviations" tabindex="-1">Implications of Deviations <a class="header-anchor" href="#implications-of-deviations" aria-label="Permalink to &quot;Implications of Deviations&quot;">​</a></h3><p>The most obvious outcome of this implementation is that a custom service/endpoint needs to be available. Or rather two services: One to handle the initial user login and one to handle token refreshes. Neither service <em>precisely</em> handles requests and replies in an OIC-compatible way, but the tokens themselves <em>are</em> OIC-compatible, which is good. That allows you to use third-party JWT libraries to construct and validate those tokens.</p><h3 id="hpcc-systems-configuration-notes" tabindex="-1">HPCC Systems Configuration Notes <a class="header-anchor" href="#hpcc-systems-configuration-notes" aria-label="Permalink to &quot;HPCC Systems Configuration Notes&quot;">​</a></h3><p>Several items must be defined in the platform&#39;s configuration. Within configmgr, the <code>jwtsecmgr</code> Security Manager plugin must be added as a component and then modified according to your environment:</p><ul><li>The URL or unique name of this HPCC Systems cluster, used as the <code>client_id</code> in token requests</li><li>Full URL to the <code>JWT Login Endpoint</code> (should be HTTPS, but not required)</li><li>Full URL to the <code>JWT Refresh Endpoint</code> (should be HTTPS, but not required)</li><li>Boolean indicating whether to accept self-signed certificates for those endpoints; defaults to false</li><li>Secrets vault key/name or subdirectory under /opt/HPCCSystems/secrets/esp in which the JWT key used for the chosen signature algorithm is stored; defaults to &quot;jwt-security&quot;</li><li>Default permission access level (either &quot;Full&quot; or &quot;None&quot;); defaults to &quot;Full&quot;</li><li>Default workunit scope access level (either &quot;Full&quot; or &quot;None&quot;); defaults to &quot;Full&quot;</li><li>Default file scope access level (either &quot;Full&quot; or &quot;None&quot;); defaults to &quot;Full&quot;</li></ul><p>Only the first three items have no default values and must be supplied.</p><p>Once the <code>jwtseccmgr</code> component is added, you have to tell other parts of the system to use the plugin. For user authentication and permissions affecting features and workunit scopes, you need to add the plugin to the <code>esp</code> component. Instructions for doing so can be found in the HPCC Systems Administrator&#39;s Guide manual (though the manual uses the htpasswd plugin as an example, the process is the same).</p><p>If you intend to implement file scope permissions then you will also need provide Dali information about the JWT plugin. In configmgr, within the <code>Dali Server</code> component, select the LDAP tab. Change the <code>authMethod</code> entry to <code>secmgrPlugin</code> and enter &quot;jwtsecmgr&quot; as the <code>authPluginType</code>. Make sure <code>checkScopeScans</code> is set to true.</p><h3 id="hpcc-systems-authorization-and-jwt-claims" tabindex="-1">HPCC Systems Authorization and JWT Claims <a class="header-anchor" href="#hpcc-systems-authorization-and-jwt-claims" aria-label="Permalink to &quot;HPCC Systems Authorization and JWT Claims&quot;">​</a></h3><p>This plugin supports all authorizations documented in the HPCC Systems® Administrator&#39;s Guide with the exception of &quot;View Permissions&quot;. Loosely speaking, the permissions are divided into three groups: Feature, Workunit Scope, and File Scope.</p><p>Feature permissions are supported exactly as documented. A specific permission would exist as a JWT claim, by name, with the associated value being the name of the permission. For example, to grant read-only access to ECL Watch, use this claim:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>	{ &quot;SmcAccess&quot;: &quot;Read&quot; }</span></span></code></pre></div><p>File and workunit scope permissions are handled the same way, but different from feature permissions. The claim is one of the Claim constants in the tables below, and the associated value is a matching pattern. A pattern can be simple string or it can use wildcards (specifically, Linux&#39;s file globbing wildcards). Wildcards are not typically needed.</p><p>Multiple patterns can be set for each claim.</p><h4 id="workunit-scope-permissions" tabindex="-1">Workunit Scope Permissions <a class="header-anchor" href="#workunit-scope-permissions" aria-label="Permalink to &quot;Workunit Scope Permissions&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Meaning</th><th>Claim</th><th>Value</th></tr></thead><tbody><tr><td>User has view rights to workunit scope</td><td>AllowWorkunitScopeView</td><td><em>pattern</em></td></tr><tr><td>User has modify rights to workunit scope</td><td>AllowWorkunitScopeModify</td><td><em>pattern</em></td></tr><tr><td>User has delete rights to workunit scope</td><td>AllowWorkunitScopeDelete</td><td><em>pattern</em></td></tr><tr><td>User does not have view rights to workunit scope</td><td>DenyWorkunitScopeView</td><td><em>pattern</em></td></tr><tr><td>User does not have modify rights to workunit scope</td><td>DenyWorkunitScopeModify</td><td><em>pattern</em></td></tr><tr><td>User does not have delete rights to workunit scope</td><td>DenyWorkunitScopeDelete</td><td><em>pattern</em></td></tr></tbody></table><h4 id="file-scope-permissions" tabindex="-1">File Scope Permissions <a class="header-anchor" href="#file-scope-permissions" aria-label="Permalink to &quot;File Scope Permissions&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Meaning</th><th>Claim</th><th>Value</th></tr></thead><tbody><tr><td>User has view rights to file scope</td><td>AllowFileScopeView</td><td><em>pattern</em></td></tr><tr><td>User has modify rights to file scope</td><td>AllowFileScopeModify</td><td><em>pattern</em></td></tr><tr><td>User has delete rights to file scope</td><td>AllowFileScopeDelete</td><td><em>pattern</em></td></tr><tr><td>User does not have view rights to file scope</td><td>DenyFileScopeView</td><td><em>pattern</em></td></tr><tr><td>User does not have modify rights to file scope</td><td>DenyFileScopeModify</td><td><em>pattern</em></td></tr><tr><td>User does not have delete rights to file scope</td><td>DenyFileScopeDelete</td><td><em>pattern</em></td></tr></tbody></table></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><div class="edit-link" data-v-1bcd8184><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/hpcc-systems/HPCC-Platform/edit/master/system/security/plugins/jwtSecurity/README.md" target="_blank" rel="noreferrer" data-v-1bcd8184><!--[--><span class="vpi-square-pen edit-link-icon" data-v-1bcd8184></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>Last Updated: <time datetime="2025-10-30T16:54:34.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><!----></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/HPCC-Platform/devdoc/README.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>Getting Started</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>Released under the Apache-2.0 License.</p><p class="copyright" data-v-566314d4>Copyright © 2023-present hpccsystems.com</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"build_me.md\":\"BQdPTQ4q\",\"build_utils_builds_file_transfer_readme.md\":\"DKZ2TVy-\",\"cmake_modules_documentation.md\":\"D2qZ0-je\",\"common_eventconsumption_readme.md\":\"Csst_fWD\",\"dali_sasha_sasha.md\":\"DkbiU-x5\",\"devdoc_buildworkflows.md\":\"DQwzV-1m\",\"devdoc_codegenerator.md\":\"DJ-c_G8J\",\"devdoc_codereviews.md\":\"C5Tv2twR\",\"devdoc_codesubmissions.md\":\"C3rxQV4t\",\"devdoc_dali.md\":\"D6x20SZY\",\"devdoc_devdocs.md\":\"DdL-rz_H\",\"devdoc_developerdocs.md\":\"C7XTuR1R\",\"devdoc_development.md\":\"C6O5m0Ay\",\"devdoc_devtestwithldap.md\":\"7ikEMvpf\",\"devdoc_docs_contributedocs.md\":\"ChCcZpyj\",\"devdoc_docs_doctemplate.md\":\"_odIVG3o\",\"devdoc_docs_hpccstyleguide.md\":\"C4TmVgG-\",\"devdoc_docs_logcostmitigation.md\":\"Bb5dROTo\",\"devdoc_endusers.md\":\"DfGwmZE6\",\"devdoc_esdlfunctions.md\":\"D-QsUHgj\",\"devdoc_gitauthenticate.md\":\"DIQAK1wR\",\"devdoc_helmreadmes.md\":\"ExzoHdAr\",\"devdoc_indexformats.md\":\"D7nWP2Gb\",\"devdoc_ldapsecuritymanager.md\":\"_WCMaOdo\",\"devdoc_memorymanager.md\":\"DYH2VwvN\",\"devdoc_metrics.md\":\"DqnGrRXm\",\"devdoc_newactivity.md\":\"BSdLYfd8\",\"devdoc_newfileprocessing.md\":\"B9-kfVlW\",\"devdoc_operations.md\":\"9MSipqGO\",\"devdoc_optimizingroxiequeryperformance.md\":\"BnUFcuqR\",\"devdoc_readme.md\":\"CljAu11d\",\"devdoc_roxie.md\":\"Dt8RAhOA\",\"devdoc_securityconfig.md\":\"DTTNk1CL\",\"devdoc_securityuserauthentication.md\":\"BUapLdZY\",\"devdoc_styleguide.md\":\"BGXVai03\",\"devdoc_testworkflows.md\":\"MiQqXgt2\",\"devdoc_userbuildassets.md\":\"BFW5g09-\",\"devdoc_userdoc_avoidlegacyflag.md\":\"DpAcj5BQ\",\"devdoc_userdoc_azure_tipsandtricks.md\":\"3kcUpPfs\",\"devdoc_userdoc_azuretipstricks.md\":\"CgEeKGg8\",\"devdoc_userdoc_blogs.md\":\"BFTAw71a\",\"devdoc_userdoc_copilot_copilotprompttips.md\":\"BieWYMr2\",\"devdoc_userdoc_migrating-from-stdcrypto-to-stdopenssl.md\":\"B3z1HQb2\",\"devdoc_userdoc_readme.md\":\"CaUmKP_V\",\"devdoc_userdoc_roxie_faq.md\":\"DjlUoLW4\",\"devdoc_userdoc_troubleshoot_clientstoolissues.md\":\"T5AqbLhI\",\"devdoc_userdoc_wikiguidelines.md\":\"CNivLj6B\",\"devdoc_versionsupport.md\":\"Dx_RPpaV\",\"devdoc_workunits.md\":\"CuDT06Mm\",\"dockerfiles_readme.md\":\"DJ---uI9\",\"docs_documentation.md\":\"BOv5l0Bf\",\"ecl_ecl-bundle_documentation.md\":\"DZnWVh4X\",\"ecllibrary_styleguide.md\":\"B3g19dg7\",\"esp_esdllib_docs_canmaskcontent.md\":\"Dqfi3ROv\",\"esp_esdllib_docs_compressstring.md\":\"rlQyHbwi\",\"esp_esdllib_docs_decodebase64string.md\":\"9nybZkC-\",\"esp_esdllib_docs_decompressstring.md\":\"k8Pv22Kj\",\"esp_esdllib_docs_delay.md\":\"Clw6h1Eh\",\"esp_esdllib_docs_deprecateddecryptstring.md\":\"C2LCmoO1\",\"esp_esdllib_docs_deprecatedencryptstring.md\":\"DYw1XKlC\",\"esp_esdllib_docs_encodebase64string.md\":\"nid_m-gw\",\"esp_esdllib_docs_escapexmlcharacters.md\":\"BwKrQph7\",\"esp_esdllib_docs_getmaskingpropertyawareness.md\":\"53tsf0eF\",\"esp_esdllib_docs_getmaskvaluebehavior.md\":\"0VIhk6WJ\",\"esp_esdllib_docs_gettxsummary.md\":\"xJ7OrSf1\",\"esp_esdllib_docs_istraceenabled.md\":\"3XGqNf-f\",\"esp_esdllib_docs_maskcontent.md\":\"CyaxFdHz\",\"esp_esdllib_docs_masking-context-scope.md\":\"D9riILTK\",\"esp_esdllib_docs_maskvalue.md\":\"C3eRJMFb\",\"esp_esdllib_docs_operations.md\":\"zVQDPuci\",\"esp_esdllib_docs_set-trace-options.md\":\"Cc6dZvCk\",\"esp_esdllib_docs_toxmlstring.md\":\"Bp5e8Lli\",\"esp_esdllib_docs_trace-content.md\":\"C5M_XW9T\",\"esp_esdllib_docs_trace-options-scope.md\":\"DgBN9N0d\",\"esp_esdllib_docs_trace-value.md\":\"DU4BFkVZ\",\"esp_esdllib_docs_trace.md\":\"sBH0yJ2A\",\"esp_esdllib_docs_tx-summary-timer.md\":\"BZ-MFOAb\",\"esp_esdllib_docs_tx-summary-value.md\":\"ClRe2div\",\"esp_esdllib_docs_unescapexmlcharacters.md\":\"hsDH0LAe\",\"esp_esdllib_docs_update-masking-context.md\":\"DGTzatm_\",\"esp_esdllib_readme-security.md\":\"_0JXUej0\",\"esp_esdllib_readme.md\":\"BYNVAHFT\",\"esp_logging_loggingagent_modularlogagent_readme.md\":\"B5cv3wXW\",\"esp_src_test-ui_tests_framework_documentation_designdocument.md\":\"D_Fz3J3w\",\"esp_src_test-ui_tests_framework_readme.md\":\"44hu2D1S\",\"esp_src_test-ui_tests_framework_setupfordev.md\":\"CXtCrJ1g\",\"helm_examples_azure_log-analytics_readme.md\":\"0KDZi51n\",\"helm_examples_azure_readme.md\":\"CeusbzDF\",\"helm_examples_azure_sa_readme.md\":\"DiI9NIXi\",\"helm_examples_certmanager_readme.md\":\"D3ZNr49H\",\"helm_examples_efs_readme.md\":\"Cltz8UfR\",\"helm_examples_esdl-sandbox_readme.md\":\"MJK-gHeS\",\"helm_examples_esdl_readme.md\":\"Chkso_O4\",\"helm_examples_esp_readme.md\":\"B5rpH7l7\",\"helm_examples_filestore_hpcc-filestore_readme.md\":\"DPIonjUv\",\"helm_examples_fsx_readme.md\":\"bwlhSuMr\",\"helm_examples_ldap_readme.md\":\"DJGddC92\",\"helm_examples_local_hpcc-localfile_readme.md\":\"CLelrXYF\",\"helm_examples_logging_azure_readme.md\":\"DlgQtZO4\",\"helm_examples_logging_elastic_readme.md\":\"CLV-EgYl\",\"helm_examples_logging_readme.md\":\"C14McHkP\",\"helm_examples_metrics_readme.md\":\"f0x380JE\",\"helm_examples_nfs_hpcc-nfs_readme.md\":\"TqI3WhlH\",\"helm_examples_scaling_readme.md\":\"1jOAVoal\",\"helm_examples_secrets_readme-kubernetessecrets.md\":\"DVQ9AlsB\",\"helm_examples_secrets_readme-vault_secrets_using_kubernetes_authentication.md\":\"Du2AgKHx\",\"helm_examples_secrets_readme-vaultsecretsusingapprolevaultauthentication.md\":\"BnPOUHcU\",\"helm_examples_secrets_readme-vaultsecretsusingclientcertvaultauthentication.md\":\"BcaNl_m5\",\"helm_examples_tracing_readme.md\":\"CZYZlzsF\",\"helm_examples_vault-pki-remote_readme-vault-pki.md\":\"4-BvkXEq\",\"helm_hpcc_docs_changes.md\":\"DMRk9YLq\",\"helm_hpcc_docs_expert.md\":\"BeMSTXq_\",\"helm_hpcc_docs_identity.md\":\"Bs9C7WwG\",\"helm_hpcc_docs_placements.md\":\"BCB-Axjl\",\"helm_hpcc_docs_storage.md\":\"Dwsb6lyP\",\"helm_managed_logging_elastic_readme.md\":\"7XzwRtKV\",\"helm_managed_logging_loki-stack_readme.md\":\"CZ7L4J19\",\"helm_managed_logging_readme.md\":\"CbuegwXh\",\"helm_managed_metrics_prometheus_readme.md\":\"BiXdvBWc\",\"helm_managed_metrics_readme.md\":\"DobaaXY3\",\"helm_managed_observability_eck_readme.md\":\"D4wuVibo\",\"helm_managed_readme.md\":\"BZ7p1R2o\",\"index.md\":\"O-LyrQ7x\",\"initfiles_bash_etc_systemd_system_readme.md\":\"DAOtGIC4\",\"initfiles_documentation.md\":\"DeC33b-A\",\"initfiles_examples_esdlexample_basicroxie_readme.md\":\"NdAW9cTx\",\"initfiles_examples_esdlexample_cppplugin_readme.md\":\"DMjLgcOC\",\"initfiles_examples_esdlexample_javaplugin_readme.md\":\"nyfRwfET\",\"initfiles_examples_esdlexample_manifest_readme.md\":\"CiDssTHV\",\"initfiles_examples_esdlexample_mysqlservice_readme.md\":\"DOF1nu_U\",\"initfiles_examples_esdlexample_readme.md\":\"ClcUsynG\",\"initfiles_examples_resultcompare_readme.md\":\"DArZQzkR\",\"plugins_couchbase_readme.md\":\"CCdVovZx\",\"plugins_eclblas_readme.md\":\"BwOZiBi5\",\"plugins_exampleplugin_readme.md\":\"DoMzEXsj\",\"plugins_h3_readme.md\":\"BHSdbyc_\",\"plugins_javaembed_javaembedoptions.md\":\"BIWu218L\",\"plugins_kafka_readme.md\":\"_MTxvQJ1\",\"plugins_memcached_readme.md\":\"C9mmQbsT\",\"plugins_mongodb_readme.md\":\"7rF5iKdH\",\"plugins_nlp_readme.md\":\"BXVUmYJ6\",\"plugins_parquet_readme.md\":\"CPquVzhd\",\"plugins_phonenumber_readme.md\":\"DMqPSQJz\",\"plugins_redis_readme.md\":\"f69fSbxY\",\"plugins_sqs_readme.md\":\"BGhr41aW\",\"readme.md\":\"DKvCmNG8\",\"system_httplib_readme.md\":\"D7Q6DAlH\",\"system_masking_include_readme.md\":\"D4zq519D\",\"system_masking_plugins_datamasker_readme.md\":\"Dgg3uUle\",\"system_security_plugins_jwtsecurity_readme.md\":\"BCcvJktv\",\"testing_regress_cleanupreadme.md\":\"BI3PLLcN\",\"testing_regress_ecl_analyzers_corporate_tmp_readme.md\":\"DooaHcbp\",\"testing_regress_ecl_javaembednativeloggingbuildinfo.md\":\"zk5Mdx24\",\"testing_regress_ecl_readme.md\":\"BNKrL4Rt\",\"tools_esdlcmd_readme.md\":\"BWFfJbZL\",\"tools_esp-api_readme.md\":\"Gp1w3sdS\",\"tools_tagging_readme.md\":\"DMr46zc2\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"HPCC Platform\",\"description\":\"The HPCC-Platform from hpccsystems is an open source system for big data analysis. It uses a single language, platform and architecture to process data efficiently and fast.\",\"base\":\"/HPCC-Platform/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"editLink\":{\"pattern\":\"https://github.com/hpcc-systems/HPCC-Platform/edit/master/:path\",\"text\":\"Edit this page on GitHub\"},\"lastUpdated\":{\"text\":\"Last Updated\"},\"nav\":[{\"text\":\"Getting Started\",\"link\":\"/devdoc/README\"},{\"text\":\"hpccsystems.com\",\"link\":\"https://hpccsystems.com\"},{\"text\":\"Changelog\",\"link\":\"https://hpccsystems.com/download/release-notes/\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/hpcc-systems/HPCC-Platform\"},{\"icon\":\"linkedin\",\"link\":\"https://www.linkedin.com/company/hpcc-systems/home\"},{\"icon\":\"twitter\",\"link\":\"https://twitter.com/hpccsystems\"},{\"icon\":\"facebook\",\"link\":\"https://www.facebook.com/hpccsystems\"},{\"icon\":\"youtube\",\"link\":\"https://www.youtube.com/user/HPCCSystems\"}],\"sidebar\":[{\"text\":\"General\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/devdoc/README\"},{\"text\":\"Development Guide\",\"link\":\"/devdoc/Development\"},{\"text\":\"C++ Style Guide\",\"link\":\"/devdoc/StyleGuide\"},{\"text\":\"ECL Style Guide\",\"link\":\"/ecllibrary/StyleGuide.html\"},{\"text\":\"Code Submission Guidelines\",\"link\":\"/devdoc/CodeSubmissions\"},{\"text\":\"Code Review Guidelines\",\"link\":\"/devdoc/CodeReviews\"},{\"text\":\"Writing Developer Documentation\",\"link\":\"/devdoc/DevDocs\"},{\"text\":\"User Guides\",\"link\":\"/devdoc/userdoc/README\"},{\"text\":\"Build on Github Actions\",\"link\":\"/devdoc/UserBuildAssets\"}]},{\"text\":\"Other\",\"items\":[{\"text\":\"Workunit Workflow\",\"link\":\"/devdoc/Workunits\"},{\"text\":\"Code Generator\",\"link\":\"/devdoc/CodeGenerator\"},{\"text\":\"Roxie\",\"link\":\"/devdoc/roxie\"},{\"text\":\"Memory Manager\",\"link\":\"/devdoc/MemoryManager\"},{\"text\":\"Metrics\",\"link\":\"/devdoc/Metrics\"},{\"text\":\"Development Testing With LDAP\",\"link\":\"/devdoc/DevTestWithLDAP\"}]}],\"footer\":{\"message\":\"Released under the Apache-2.0 License.\",\"copyright\":\"Copyright © 2023-present hpccsystems.com\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>